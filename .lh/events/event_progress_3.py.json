{
    "sourceFile": "events/event_progress_3.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 26,
            "patches": [
                {
                    "date": 1741268507897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741268617155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,30 +36,28 @@\n             \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。,\n             \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n             \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n         ]\n-        return EventResult(\"他是无罪的\", reaction, 0)\n+        return EventResult(\"冷静分析证据\", reaction, 1)\n \n     elif choice == \"2\":\n         reaction = [\n             \"你只是看了他一眼，「这件事和你无关，检察官先生，我只想保护他。」\",\n             \"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\",\n             \"虽然你看不到他脸上的表情，但你能感受到他在看着你。\"\n             \"「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\n         ]\n-        return EventResult(\"这与你无关\", reaction, -3)\n+        return EventResult(\"质问戈多的执着\", reaction, -3)\n \n     elif choice == \"3\":\n         reaction = [\n-            \"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\",\n-            \"戈多：「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n+            \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n         ]\n-        return EventResult(\"是啊，他真的是很麻烦\", reaction, +5)\n+        return EventResult(\"坚定维护委托人\", reaction, 0)\n \n     else:\n         reaction = [\n-            \"你选择沉默不语。\",\n-            \"戈多:怎么了，是还在烦恼你新男朋友的案件吗？\"\n+        \"「沉默不代表无罪，{get_nickname()}。\"\n         ]\n         return EventResult(\"沉默\", reaction, 0)\n \n         \n\\ No newline at end of file\n"
                },
                {
                    "date": 1741268830773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,25 +29,32 @@\n     \n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n-    if choice == \"1\"\n+    if choice == \"1\":\n         reaction = [\n-            \"你摇了摇头，「戈多，我相信他是无罪的。\"\n-            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。,\n+            \"你摇了摇头，「戈多，我相信他是无罪的。\",\n+            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\",\n             \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n             \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n         ]\n         return EventResult(\"冷静分析证据\", reaction, 1)\n \n     elif choice == \"2\":\n-        reaction = [\n-            \"你只是看了他一眼，「这件事和你无关，检察官先生，我只想保护他。」\",\n-            \"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\",\n-            \"虽然你看不到他脸上的表情，但你能感受到他在看着你。\"\n-            \"「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\n-        ]\n-        return EventResult(\"质问戈多的执着\", reaction, -3)\n+        if favorability > 65:\n+            reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+        elif favorability < 55:\n+            reaction = \"戈多：「呵。」\"\n+            favor_change = -1\n+        else:\n+            reaction = \"\"\"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n+            它领你走入暮色中的玫瑰园，\n+            听潮水在远方低声吟诵逝去的誓言，\n+            直到你明白，世间万物都曾以苦为名，学会生长。」\n+            \"\"\"\n+            favor_change = 0\n+        return EventResult(\"质问戈多的执着\", reaction, favor_change)\n \n     elif choice == \"3\":\n         reaction = [\n             \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n"
                },
                {
                    "date": 1741268848876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n             听潮水在远方低声吟诵逝去的誓言，\n             直到你明白，世间万物都曾以苦为名，学会生长。」\n             \"\"\"\n             favor_change = 0\n-        return EventResult(\"质问戈多的执着\", reaction, favor_change)\n+        return EventResult(\"质问戈多的执着\", reaction, favor_change=favor_change)\n \n     elif choice == \"3\":\n         reaction = [\n             \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n"
                },
                {
                    "date": 1741271036481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,70 @@\n+from story_content import get_nick_name\n+\n+class EventResult:\n+    def __init__(self, player_choice,reaction, favor_change, past_story):\n+        self.player_choice = player_choice\n+        self.reaction = reaction\n+        self.favor_change = favor_change\n+        self.past_story = past_story\n+    \n+    def progress_3_event(favorability):\n+        from utils.past_story import get_past_story\n+\n+class EventResult:\n+    def __init__(self, player_choice, reaction, favor_change, past_story=None):\n+        self.player_choice = player_choice\n+        self.reaction = reaction  # reaction改成list，存多行\n+        self.favor_change = favor_change\n+        self.past_story = past_story\n+        \n+    def progress_2_event(favorability):\n+    #玩家反驳\n+    if favorability > 65:\n+        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n+    elif favorability < 55:\n+        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n+    else:\n+        print(\"\\n「你误会了，他才不是我男朋友。」\")\n+    favor_change = +1\n+    \n+    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        reaction = [\n+            \"你摇了摇头，「戈多，我相信他是无罪的。\",\n+            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\",\n+            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n+            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n+        ]\n+        return EventResult(\"冷静分析证据\", reaction, 1)\n+\n+    elif choice == \"2\":\n+        if favorability > 65:\n+            reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+        elif favorability < 55:\n+            reaction = \"戈多：「呵。」\"\n+            favor_change = -1\n+        else:\n+            reaction = \"\"\"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n+            它领你走入暮色中的玫瑰园，\n+            听潮水在远方低声吟诵逝去的誓言，\n+            直到你明白，世间万物都曾以苦为名，学会生长。」\n+            \"\"\"\n+            favor_change = 0\n+        return EventResult(\"质问戈多的执着\", reaction, favor_change=favor_change)\n+\n+    elif choice == \"3\":\n+        reaction = [\n+            \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n+        ]\n+        return EventResult(\"坚定维护委托人\", reaction, 0)\n+\n+    else:\n+        reaction = [\n+        \"「沉默不代表无罪，{get_nickname()}。\"\n+        ]\n+        return EventResult(\"沉默\", reaction, 0)\n+\n+        \n\\ No newline at end of file\n"
                },
                {
                    "date": 1741271627521,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,24 +1,15 @@\n from story_content import get_nick_name\n \n class EventResult:\n-    def __init__(self, player_choice,reaction, favor_change, past_story):\n+    def __init__(self, player_choice,reaction, favor_change, past_story=None):\n         self.player_choice = player_choice\n         self.reaction = reaction\n         self.favor_change = favor_change\n         self.past_story = past_story\n     \n-    def progress_3_event(favorability):\n-        from utils.past_story import get_past_story\n-\n-class EventResult:\n-    def __init__(self, player_choice, reaction, favor_change, past_story=None):\n-        self.player_choice = player_choice\n-        self.reaction = reaction  # reaction改成list，存多行\n-        self.favor_change = favor_change\n-        self.past_story = past_story\n         \n-    def progress_2_event(favorability):\n+def progress_3_event(favorability):\n     #玩家反驳\n     if favorability > 65:\n         print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n     elif favorability < 55:\n@@ -66,75 +57,5 @@\n         \"「沉默不代表无罪，{get_nickname()}。\"\n         ]\n         return EventResult(\"沉默\", reaction, 0)\n \n-        \n-from story_content import get_nick_name\n-\n-Class EventResult:\n-    def __init__(self, player_choice,reaction, favor_change, past_story):\n-        self.player_choice = player_choice\n-        self.reaction = reaction\n-        self.favor_change = favor_change\n-        self.past_story = past_story\n-    \n-    def progress_3_event(favorability):\n-        from utils.past_story import get_past_story\n-\n-class EventResult:\n-    def __init__(self, player_choice, reaction, favor_change, past_story=None):\n-        self.player_choice = player_choice\n-        self.reaction = reaction  # reaction改成list，存多行\n-        self.favor_change = favor_change\n-        self.past_story = past_story\n-        \n-    def progress_2_event(favorability):\n-    #玩家反驳\n-    if favorability > 65:\n-        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n-    elif favorability < 55:\n-        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n-    else:\n-        print(\"\\n「你误会了，他才不是我男朋友。」\")\n-    favor_change = +1\n-    \n-    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        reaction = [\n-            \"你摇了摇头，「戈多，我相信他是无罪的。\",\n-            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\",\n-            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n-            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n-        ]\n-        return EventResult(\"冷静分析证据\", reaction, 1)\n-\n-    elif choice == \"2\":\n-        if favorability > 65:\n-            reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n-            favor_change = +1\n-        elif favorability < 55:\n-            reaction = \"戈多：「呵。」\"\n-            favor_change = -1\n-        else:\n-            reaction = \"\"\"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n-            它领你走入暮色中的玫瑰园，\n-            听潮水在远方低声吟诵逝去的誓言，\n-            直到你明白，世间万物都曾以苦为名，学会生长。」\n-            \"\"\"\n-            favor_change = 0\n-        return EventResult(\"质问戈多的执着\", reaction, favor_change=favor_change)\n-\n-    elif choice == \"3\":\n-        reaction = [\n-            \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n-        ]\n-        return EventResult(\"坚定维护委托人\", reaction, 0)\n-\n-    else:\n-        reaction = [\n-        \"「沉默不代表无罪，{get_nickname()}。\"\n-        ]\n-        return EventResult(\"沉默\", reaction, 0)\n-\n         \n\\ No newline at end of file\n"
                },
                {
                    "date": 1741271646760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-from story_content import get_nick_name\n+from story_content import get_nickname\n \n class EventResult:\n     def __init__(self, player_choice,reaction, favor_change, past_story=None):\n         self.player_choice = player_choice\n"
                },
                {
                    "date": 1741272834749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,13 @@\n from story_content import get_nickname\n \n class EventResult:\n-    def __init__(self, player_choice,reaction, favor_change, past_story=None):\n+    def __init__(self, player_choice,reaction, favor_change, past_story=None, narrative=\"\"):\n         self.player_choice = player_choice\n         self.reaction = reaction\n         self.favor_change = favor_change\n         self.past_story = past_story\n+        self.narrative = narrative\n     \n         \n def progress_3_event(favorability):\n     #玩家反驳\n"
                },
                {
                    "date": 1741276327416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,60 @@\n+from story_content import get_nickname\n+\n+class EventResult:\n+    def __init__(self, player_choice, player_reaction, godot_reaction, favor_change, past_story=None, narrative=\"\"):\n+        self.player_choice = player_choice\n+        self.player_reaction = player_reaction\n+        self.godot_reaction = godot_reaction\n+        self.favor_change = favor_change\n+        self.past_story = past_story\n+        self.narrative = narrative\n+\n+def progress_3_event(favorability):\n+    # 玩家反驳\n+    if favorability > 65:\n+        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n+    elif favorability < 55:\n+        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n+    else:\n+        print(\"\\n「你误会了，他才不是我男朋友。」\")\n+    favor_change = +1\n+\n+    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_reaction = \"你摇了摇头：「戈多，我相信他是无罪的。」\"\n+        godot_reaction = (\n+            f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n+            \"「你这么相信他，是因为律师的虚张声势，还是只是因为...」\\n\"\n+            \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n+        )\n+        return EventResult(\"冷静分析证据\", player_reaction, godot_reaction, 1)\n+\n+    elif choice == \"2\":\n+        player_reaction = \"你凝视着他，语气沉稳：「你为什么突然回来？」\"\n+        if favorability > 65:\n+            godot_reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+        elif favorability < 55:\n+            godot_reaction = \"戈多：「呵。」\"\n+            favor_change = -1\n+        else:\n+            godot_reaction = (\n+                \"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                \"它领你走入暮色中的玫瑰园，\\n\"\n+                \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n+                \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n+            )\n+            favor_change = 0\n+        return EventResult(\"质问戈多的执着\", player_reaction, godot_reaction, favor_change)\n+\n+    elif choice == \"3\":\n+        player_reaction = \"你坚定地站在被告身旁，目光毫不退缩。\"\n+        godot_reaction = \"戈多微微摇头：「所以，你终究还是站在他那边啊...」\"\n+        return EventResult(\"坚定维护委托人\", player_reaction, godot_reaction, 0)\n+\n+    else:\n+        player_reaction = \"你保持沉默，不做任何反应。\"\n+        godot_reaction = f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"\n+        return EventResult(\"沉默\", player_reaction, godot_reaction, 0)\n"
                },
                {
                    "date": 1741276343962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,66 +57,4 @@\n     else:\n         player_reaction = \"你保持沉默，不做任何反应。\"\n         godot_reaction = f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"\n         return EventResult(\"沉默\", player_reaction, godot_reaction, 0)\n-from story_content import get_nickname\n-\n-class EventResult:\n-    def __init__(self, player_choice,reaction, favor_change, past_story=None, narrative=\"\"):\n-        self.player_choice = player_choice\n-        self.reaction = reaction\n-        self.favor_change = favor_change\n-        self.past_story = past_story\n-        self.narrative = narrative\n-    \n-        \n-def progress_3_event(favorability):\n-    #玩家反驳\n-    if favorability > 65:\n-        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n-    elif favorability < 55:\n-        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n-    else:\n-        print(\"\\n「你误会了，他才不是我男朋友。」\")\n-    favor_change = +1\n-    \n-    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        reaction = [\n-            \"你摇了摇头，「戈多，我相信他是无罪的。\",\n-            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\",\n-            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n-            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n-        ]\n-        return EventResult(\"冷静分析证据\", reaction, 1)\n-\n-    elif choice == \"2\":\n-        if favorability > 65:\n-            reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n-            favor_change = +1\n-        elif favorability < 55:\n-            reaction = \"戈多：「呵。」\"\n-            favor_change = -1\n-        else:\n-            reaction = \"\"\"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n-            它领你走入暮色中的玫瑰园，\n-            听潮水在远方低声吟诵逝去的誓言，\n-            直到你明白，世间万物都曾以苦为名，学会生长。」\n-            \"\"\"\n-            favor_change = 0\n-        return EventResult(\"质问戈多的执着\", reaction, favor_change=favor_change)\n-\n-    elif choice == \"3\":\n-        reaction = [\n-            \"戈多：微微摇头：「所以，你终究还是站在他那边啊...」\"\n-        ]\n-        return EventResult(\"坚定维护委托人\", reaction, 0)\n-\n-    else:\n-        reaction = [\n-        \"「沉默不代表无罪，{get_nickname()}。\"\n-        ]\n-        return EventResult(\"沉默\", reaction, 0)\n-\n-        \n\\ No newline at end of file\n"
                },
                {
                    "date": 1741276683430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,26 +11,27 @@\n \n def progress_3_event(favorability):\n     # 玩家反驳\n     if favorability > 65:\n-        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n+        narrative = \"「什么男朋友！我可没喜欢过这家伙！」\"\n     elif favorability < 55:\n-        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n+        narrative = \"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\"\n     else:\n-        print(\"\\n「你误会了，他才不是我男朋友。」\")\n-    favor_change = +1\n+        narrative = \"\\n「你误会了，他才不是我男朋友。」\"\n+    \n+    print(narrative)\n \n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n     if choice == \"1\":\n         player_reaction = \"你摇了摇头：「戈多，我相信他是无罪的。」\"\n         godot_reaction = (\n             f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n-            \"「你这么相信他，是因为律师的虚张声势，还是只是因为...」\\n\"\n+            \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\\n\"\n             \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n         )\n-        return EventResult(\"冷静分析证据\", player_reaction, godot_reaction, 1)\n+        return EventResult(\"冷静分析证据\", player_reaction, godot_reaction, 1, narrative=narrative)\n \n     elif choice == \"2\":\n         player_reaction = \"你凝视着他，语气沉稳：「你为什么突然回来？」\"\n         if favorability > 65:\n@@ -40,21 +41,21 @@\n             godot_reaction = \"戈多：「呵。」\"\n             favor_change = -1\n         else:\n             godot_reaction = (\n-                \"戈多：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n                 \"它领你走入暮色中的玫瑰园，\\n\"\n                 \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n                 \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n             )\n             favor_change = 0\n-        return EventResult(\"质问戈多的执着\", player_reaction, godot_reaction, favor_change)\n+        return EventResult(\"质问戈多的执着\", player_reaction, godot_reaction, favor_change, narrative=narrative)\n \n     elif choice == \"3\":\n         player_reaction = \"你坚定地站在被告身旁，目光毫不退缩。\"\n-        godot_reaction = \"戈多微微摇头：「所以，你终究还是站在他那边啊...」\"\n-        return EventResult(\"坚定维护委托人\", player_reaction, godot_reaction, 0)\n+        godot_reaction = \"戈多微微摇头：「所以，你终究还是站在他那边啊……」\"\n+        return EventResult(\"坚定维护委托人\", player_reaction, godot_reaction, 0, narrative=narrative)\n \n     else:\n         player_reaction = \"你保持沉默，不做任何反应。\"\n         godot_reaction = f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"\n-        return EventResult(\"沉默\", player_reaction, godot_reaction, 0)\n+        return EventResult(\"沉默\", player_reaction, godot_reaction, 0, narrative=narrative)\n"
                },
                {
                    "date": 1741276912209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,61 +1,64 @@\n from story_content import get_nickname\n \n class EventResult:\n-    def __init__(self, player_choice, player_reaction, godot_reaction, favor_change, past_story=None, narrative=\"\"):\n+    def __init__(self, player_choice, favor_change, dialogue_sequence, past_story=None):\n         self.player_choice = player_choice\n-        self.player_reaction = player_reaction\n-        self.godot_reaction = godot_reaction\n         self.favor_change = favor_change\n+        self.dialogue_sequence = dialogue_sequence\n         self.past_story = past_story\n-        self.narrative = narrative\n \n def progress_3_event(favorability):\n-    # 玩家反驳\n+    # 对话序列\n+    dialogue_sequence = []\n+\n+    # 玩家反驳的narrative（先追加到对话序列里作为旁白）\n     if favorability > 65:\n         narrative = \"「什么男朋友！我可没喜欢过这家伙！」\"\n     elif favorability < 55:\n         narrative = \"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\"\n     else:\n         narrative = \"\\n「你误会了，他才不是我男朋友。」\"\n-    \n+\n+    dialogue_sequence.append({\"speaker\": \"Narrator\", \"line\": narrative})\n     print(narrative)\n \n+    # 选项展示\n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n     if choice == \"1\":\n-        player_reaction = \"你摇了摇头：「戈多，我相信他是无罪的。」\"\n-        godot_reaction = (\n-            f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n-            \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\\n\"\n-            \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n-        )\n-        return EventResult(\"冷静分析证据\", player_reaction, godot_reaction, 1, narrative=narrative)\n+        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你摇了摇头：「戈多，我相信他是无罪的。」\"})\n+        dialogue_sequence.extend([\n+            {\"speaker\": \"Godot\", \"line\": f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\"},\n+            {\"speaker\": \"Godot\", \"line\": \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\"},\n+            {\"speaker\": \"Godot\", \"line\": \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"}\n+        ])\n+        return EventResult(\"冷静分析证据\", 1, dialogue_sequence)\n \n     elif choice == \"2\":\n-        player_reaction = \"你凝视着他，语气沉稳：「你为什么突然回来？」\"\n+        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你凝视着他，语气沉稳：「你为什么突然回来？」\"})\n         if favorability > 65:\n-            godot_reaction = \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n             favor_change = +1\n         elif favorability < 55:\n-            godot_reaction = \"戈多：「呵。」\"\n+            dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多：「呵。」\"})\n             favor_change = -1\n         else:\n-            godot_reaction = (\n-                \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n-                \"它领你走入暮色中的玫瑰园，\\n\"\n-                \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n-                \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n-            )\n+            dialogue_sequence.extend([\n+                {\"speaker\": \"Godot\", \"line\": \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\"},\n+                {\"speaker\": \"Godot\", \"line\": \"它领你走入暮色中的玫瑰园，\"},\n+                {\"speaker\": \"Godot\", \"line\": \"听潮水在远方低声吟诵逝去的誓言，\"},\n+                {\"speaker\": \"Godot\", \"line\": \"直到你明白，世间万物都曾以苦为名，学会生长。」\"}\n+            ])\n             favor_change = 0\n-        return EventResult(\"质问戈多的执着\", player_reaction, godot_reaction, favor_change, narrative=narrative)\n+        return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n \n     elif choice == \"3\":\n-        player_reaction = \"你坚定地站在被告身旁，目光毫不退缩。\"\n-        godot_reaction = \"戈多微微摇头：「所以，你终究还是站在他那边啊……」\"\n-        return EventResult(\"坚定维护委托人\", player_reaction, godot_reaction, 0, narrative=narrative)\n+        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你坚定地站在被告身旁，目光毫不退缩。\"})\n+        dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多微微摇头：「所以，你终究还是站在他那边啊……」\"})\n+        return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n \n     else:\n-        player_reaction = \"你保持沉默，不做任何反应。\"\n-        godot_reaction = f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"\n-        return EventResult(\"沉默\", player_reaction, godot_reaction, 0, narrative=narrative)\n+        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你保持沉默，不做任何反应。\"})\n+        dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n+        return EventResult(\"沉默\", 0, dialogue_sequence)\n"
                },
                {
                    "date": 1741277519324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,14 +43,17 @@\n         elif favorability < 55:\n             dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多：「呵。」\"})\n             favor_change = -1\n         else:\n-            dialogue_sequence.extend([\n-                {\"speaker\": \"Godot\", \"line\": \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\"},\n-                {\"speaker\": \"Godot\", \"line\": \"它领你走入暮色中的玫瑰园，\"},\n-                {\"speaker\": \"Godot\", \"line\": \"听潮水在远方低声吟诵逝去的誓言，\"},\n-                {\"speaker\": \"Godot\", \"line\": \"直到你明白，世间万物都曾以苦为名，学会生长。」\"}\n-            ])\n+            dialogue_sequence.extend({\n+                \"speaker\": \"Godot\",\n+                \"line\": (\n+                    \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                    \"它领你走入暮色中的玫瑰园，\\n\"\n+                    \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n+                    \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n+    )\n+})\n             favor_change = 0\n         return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n \n     elif choice == \"3\":\n"
                },
                {
                    "date": 1741277636533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,23 +26,27 @@\n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n     if choice == \"1\":\n-        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你摇了摇头：「戈多，我相信他是无罪的。」\"})\n-        dialogue_sequence.extend([\n-            {\"speaker\": \"Godot\", \"line\": f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\"},\n-            {\"speaker\": \"Godot\", \"line\": \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\"},\n-            {\"speaker\": \"Godot\", \"line\": \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"}\n-        ])\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"摇了摇头：「戈多，我相信他是无罪的。」\"})\n+        dialogue_sequence.append({\n+            \"speaker\": \"戈多\",\n+            \"line\": (\n+                f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n+                \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\\n\"\n+                \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n+            )\n+        })\n+\n         return EventResult(\"冷静分析证据\", 1, dialogue_sequence)\n \n     elif choice == \"2\":\n-        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你凝视着他，语气沉稳：「你为什么突然回来？」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳：「你为什么突然回来？」\"})\n         if favorability > 65:\n-            dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n             favor_change = +1\n         elif favorability < 55:\n-            dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多：「呵。」\"})\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"：「呵。」\"})\n             favor_change = -1\n         else:\n             dialogue_sequence.extend({\n                 \"speaker\": \"Godot\",\n"
                },
                {
                    "date": 1741277642253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"摇了摇头：「戈多，我相信他是无罪的。」\"})\n         dialogue_sequence.append({\n             \"speaker\": \"戈多\",\n             \"line\": (\n-                f\"戈多轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n+                f\"轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n                 \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\\n\"\n                 \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n             )\n         })\n"
                },
                {
                    "date": 1741278043117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,21 +25,30 @@\n     # 选项展示\n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n-    if choice == \"1\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"摇了摇头：「戈多，我相信他是无罪的。」\"})\n-        dialogue_sequence.append({\n-            \"speaker\": \"戈多\",\n-            \"line\": (\n-                f\"轻笑：「真是难得，{get_nickname(favorability)}，这么多年不见，你还是这么天真。」\\n\"\n-                \"「你这么相信他，是因为律师的虚张声势，还是只是因为……」\\n\"\n-                \"他身子前俯，话语却还带一丝玩味：「他是你的男朋友呢？」\"\n-            )\n-        })\n+if choice == \"1\":\n+    player_choice_text = \"冷静分析证据\"\n+    player_line = \"你抽出案件的文案，给戈多看并分析。\"\n+    dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n \n-        return EventResult(\"冷静分析证据\", 1, dialogue_sequence)\n+    # 根据好感度动态生成戈多反应\n+    if favorability > 65:\n+        godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+        favor_change = +2\n+    elif favorability < 55:\n+        godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n+        favor_change = 0\n+    else:\n+        godot_line = \"点头：「听听你的分析吧。」\"\n+        favor_change = +1\n \n+    dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": godot_line})\n+\n+    # 返回事件结果\n+    return EventResult(player_choice_text, favor_change, dialogue_sequence)\n+\n+\n     elif choice == \"2\":\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳：「你为什么突然回来？」\"})\n         if favorability > 65:\n             dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n"
                },
                {
                    "date": 1741278061005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,28 +25,28 @@\n     # 选项展示\n     print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n-if choice == \"1\":\n-    player_choice_text = \"冷静分析证据\"\n-    player_line = \"你抽出案件的文案，给戈多看并分析。\"\n-    dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        player_line = \"你抽出案件的文案，给戈多看并分析。\"\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n \n-    # 根据好感度动态生成戈多反应\n-    if favorability > 65:\n-        godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n-        favor_change = +2\n-    elif favorability < 55:\n-        godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n-        favor_change = 0\n-    else:\n-        godot_line = \"点头：「听听你的分析吧。」\"\n-        favor_change = +1\n+        # 根据好感度动态生成戈多反应\n+        if favorability > 65:\n+            godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+        elif favorability < 55:\n+            godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+        else:\n+            godot_line = \"点头：「听听你的分析吧。」\"\n+            favor_change = +1\n \n-    dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": godot_line})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": godot_line})\n \n-    # 返回事件结果\n-    return EventResult(player_choice_text, favor_change, dialogue_sequence)\n+        # 返回事件结果\n+        return EventResult(player_choice_text, favor_change, dialogue_sequence)\n \n \n     elif choice == \"2\":\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳：「你为什么突然回来？」\"})\n"
                },
                {
                    "date": 1741278199127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n         elif favorability < 55:\n             dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"：「呵。」\"})\n             favor_change = -1\n         else:\n-            dialogue_sequence.extend({\n+            dialogue_sequence.append({\n                 \"speaker\": \"Godot\",\n                 \"line\": (\n                     \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n                     \"它领你走入暮色中的玫瑰园，\\n\"\n"
                },
                {
                    "date": 1741278283985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,9 @@\n             dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"：「呵。」\"})\n             favor_change = -1\n         else:\n             dialogue_sequence.append({\n-                \"speaker\": \"Godot\",\n+                \"speaker\": \"戈多\",\n                 \"line\": (\n                     \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n                     \"它领你走入暮色中的玫瑰园，\\n\"\n                     \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n@@ -69,12 +69,12 @@\n             favor_change = 0\n         return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n \n     elif choice == \"3\":\n-        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你坚定地站在被告身旁，目光毫不退缩。\"})\n-        dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": \"戈多微微摇头：「所以，你终究还是站在他那边啊……」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"坚定地站在被告身旁，目光毫不退缩。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头：「所以，你终究还是站在他那边啊……」\"})\n         return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n \n     else:\n-        dialogue_sequence.append({\"speaker\": \"Player\", \"line\": \"你保持沉默，不做任何反应。\"})\n-        dialogue_sequence.append({\"speaker\": \"Godot\", \"line\": f\"戈多：「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"保持沉默，不做任何反应。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n         return EventResult(\"沉默\", 0, dialogue_sequence)\n"
                },
                {
                    "date": 1741278710391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n         return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n \n     elif choice == \"3\":\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"坚定地站在被告身旁，目光毫不退缩。\"})\n-        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头：「所以，你终究还是站在他那边啊……」\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头「所以，你终究还是站在他那边啊……」\"})\n         return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n \n     else:\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"保持沉默，不做任何反应。\"})\n"
                },
                {
                    "date": 1741278721112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,14 +48,14 @@\n         return EventResult(player_choice_text, favor_change, dialogue_sequence)\n \n \n     elif choice == \"2\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳：「你为什么突然回来？」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳「你为什么突然回来？」\"})\n         if favorability > 65:\n             dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n             favor_change = +1\n         elif favorability < 55:\n-            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"：「呵。」\"})\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"「呵。」\"})\n             favor_change = -1\n         else:\n             dialogue_sequence.append({\n                 \"speaker\": \"戈多\",\n"
                },
                {
                    "date": 1741278742196,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,80 @@\n+from story_content import get_nickname\n+\n+class EventResult:\n+    def __init__(self, player_choice, favor_change, dialogue_sequence, past_story=None):\n+        self.player_choice = player_choice\n+        self.favor_change = favor_change\n+        self.dialogue_sequence = dialogue_sequence\n+        self.past_story = past_story\n+\n+def progress_3_event(favorability):\n+    # 对话序列\n+    dialogue_sequence = []\n+\n+    # 玩家反驳的narrative（先追加到对话序列里作为旁白）\n+    if favorability > 65:\n+        narrative = \"「什么男朋友！我可没喜欢过这家伙！」\"\n+    elif favorability < 55:\n+        narrative = \"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\"\n+    else:\n+        narrative = \"\\n「你误会了，他才不是我男朋友。」\"\n+\n+    dialogue_sequence.append({\"speaker\": \"Narrator\", \"line\": narrative})\n+    print(narrative)\n+\n+    # 选项展示\n+    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        player_line = \"你抽出案件的文案，给戈多看并分析。\"\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n+\n+        # 根据好感度动态生成戈多反应\n+        if favorability > 65:\n+            godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+        elif favorability < 55:\n+            godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+        else:\n+            godot_line = \"点头：「听听你的分析吧。」\"\n+            favor_change = +1\n+\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": godot_line})\n+\n+        # 返回事件结果\n+        return EventResult(player_choice_text, favor_change, dialogue_sequence)\n+\n+\n+    elif choice == \"2\":\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳「你为什么突然回来？」\"})\n+        if favorability > 65:\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n+            favor_change = +1\n+        elif favorability < 55:\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"「呵。」\"})\n+            favor_change = -1\n+        else:\n+            dialogue_sequence.append({\n+                \"speaker\": \"戈多\",\n+                \"line\": (\n+                    \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                    \"它领你走入暮色中的玫瑰园，\\n\"\n+                    \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n+                    \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n+    )\n+})\n+            favor_change = 0\n+        return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n+\n+    elif choice == \"3\":\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"坚定地站在被告身旁，目光毫不退缩。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头「所以，你终究还是站在他那边啊……」\"})\n+        return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n+\n+    else:\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"保持沉默，不做任何反应。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n+        return EventResult(\"沉默\", 0, dialogue_sequence)\n"
                },
                {
                    "date": 1741279024165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,15 +32,15 @@\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n \n         # 根据好感度动态生成戈多反应\n         if favorability > 65:\n-            godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            godot_line = \"戈多微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n             favor_change = +2\n         elif favorability < 55:\n-            godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n+            godot_line = \"戈多冷笑：「现在才装冷静，有点晚了吧？」\"\n             favor_change = 0\n         else:\n-            godot_line = \"点头：「听听你的分析吧。」\"\n+            godot_line = \"戈多点头：「听听你的分析吧。」\"\n             favor_change = +1\n \n         dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": godot_line})\n \n@@ -48,20 +48,20 @@\n         return EventResult(player_choice_text, favor_change, dialogue_sequence)\n \n \n     elif choice == \"2\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳「你为什么突然回来？」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你凝视着他，语气沉稳「你为什么突然回来？」\"})\n         if favorability > 65:\n-            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n             favor_change = +1\n         elif favorability < 55:\n-            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"「呵。」\"})\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多：「呵。」\"})\n             favor_change = -1\n         else:\n             dialogue_sequence.append({\n                 \"speaker\": \"戈多\",\n                 \"line\": (\n-                    \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                    \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n                     \"它领你走入暮色中的玫瑰园，\\n\"\n                     \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n                     \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n     )\n@@ -69,92 +69,12 @@\n             favor_change = 0\n         return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n \n     elif choice == \"3\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"坚定地站在被告身旁，目光毫不退缩。\"})\n-        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头「所以，你终究还是站在他那边啊……」\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你坚定地站在被告身旁，目光毫不退缩。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多微微摇头「所以，你终究还是站在他那边啊……」\"})\n         return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n \n     else:\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"保持沉默，不做任何反应。\"})\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你保持沉默，不做任何反应。\"})\n         dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n         return EventResult(\"沉默\", 0, dialogue_sequence)\n-from story_content import get_nickname\n-\n-class EventResult:\n-    def __init__(self, player_choice, favor_change, dialogue_sequence, past_story=None):\n-        self.player_choice = player_choice\n-        self.favor_change = favor_change\n-        self.dialogue_sequence = dialogue_sequence\n-        self.past_story = past_story\n-\n-def progress_3_event(favorability):\n-    # 对话序列\n-    dialogue_sequence = []\n-\n-    # 玩家反驳的narrative（先追加到对话序列里作为旁白）\n-    if favorability > 65:\n-        narrative = \"「什么男朋友！我可没喜欢过这家伙！」\"\n-    elif favorability < 55:\n-        narrative = \"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\"\n-    else:\n-        narrative = \"\\n「你误会了，他才不是我男朋友。」\"\n-\n-    dialogue_sequence.append({\"speaker\": \"Narrator\", \"line\": narrative})\n-    print(narrative)\n-\n-    # 选项展示\n-    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        player_choice_text = \"冷静分析证据\"\n-        player_line = \"你抽出案件的文案，给戈多看并分析。\"\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n-\n-        # 根据好感度动态生成戈多反应\n-        if favorability > 65:\n-            godot_line = \"微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n-            favor_change = +2\n-        elif favorability < 55:\n-            godot_line = \"冷笑：「现在才装冷静，有点晚了吧？」\"\n-            favor_change = 0\n-        else:\n-            godot_line = \"点头：「听听你的分析吧。」\"\n-            favor_change = +1\n-\n-        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": godot_line})\n-\n-        # 返回事件结果\n-        return EventResult(player_choice_text, favor_change, dialogue_sequence)\n-\n-\n-    elif choice == \"2\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"凝视着他，语气沉稳「你为什么突然回来？」\"})\n-        if favorability > 65:\n-            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n-            favor_change = +1\n-        elif favorability < 55:\n-            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"「呵。」\"})\n-            favor_change = -1\n-        else:\n-            dialogue_sequence.append({\n-                \"speaker\": \"戈多\",\n-                \"line\": (\n-                    \"「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n-                    \"它领你走入暮色中的玫瑰园，\\n\"\n-                    \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n-                    \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n-    )\n-})\n-            favor_change = 0\n-        return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n-\n-    elif choice == \"3\":\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"坚定地站在被告身旁，目光毫不退缩。\"})\n-        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"微微摇头「所以，你终究还是站在他那边啊……」\"})\n-        return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n-\n-    else:\n-        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"保持沉默，不做任何反应。\"})\n-        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n-        return EventResult(\"沉默\", 0, dialogue_sequence)\n"
                },
                {
                    "date": 1741279170349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,4 +77,5 @@\n     else:\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你保持沉默，不做任何反应。\"})\n         dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n         return EventResult(\"沉默\", 0, dialogue_sequence)\n+    print(\"\\n\")\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741279282104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,5 +77,4 @@\n     else:\n         dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你保持沉默，不做任何反应。\"})\n         dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n         return EventResult(\"沉默\", 0, dialogue_sequence)\n-    print(\"\\n\")\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741279387754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     dialogue_sequence.append({\"speaker\": \"Narrator\", \"line\": narrative})\n     print(narrative)\n \n     # 选项展示\n-    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n+    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\\n\")\n     choice = input(\"输入选项编号(1-3)：\")\n \n     if choice == \"1\":\n         player_choice_text = \"冷静分析证据\"\n"
                },
                {
                    "date": 1741280606888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,80 @@\n+from story_content import get_nickname\n+\n+class EventResult:\n+    def __init__(self, player_choice, favor_change, dialogue_sequence, past_story=None):\n+        self.player_choice = player_choice\n+        self.favor_change = favor_change\n+        self.dialogue_sequence = dialogue_sequence\n+        self.past_story = past_story\n+\n+def progress_3_event(favorability):\n+    # 对话序列\n+    dialogue_sequence = []\n+\n+    # 玩家反驳的narrative（先追加到对话序列里作为旁白）\n+    if favorability > 65:\n+        narrative = \"「什么男朋友！我可没喜欢过这家伙！」\"\n+    elif favorability < 55:\n+        narrative = \"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\"\n+    else:\n+        narrative = \"\\n「你误会了，他才不是我男朋友。」\"\n+\n+    dialogue_sequence.append({\"speaker\": \"Narrator\", \"line\": narrative})\n+    print(narrative)\n+\n+    # 选项展示\n+    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\\n\")\n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        player_line = \"你抽出案件的文案，给戈多看并分析。\"\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": player_line})\n+\n+        # 根据好感度动态生成戈多反应\n+        if favorability > 65:\n+            godot_line = \"戈多微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+        elif favorability < 55:\n+            godot_line = \"戈多冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+        else:\n+            godot_line = \"戈多点头：「听听你的分析吧。」\"\n+            favor_change = +1\n+\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": godot_line})\n+\n+        # 返回事件结果\n+        return EventResult(player_choice_text, favor_change, dialogue_sequence)\n+\n+\n+    elif choice == \"2\":\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你凝视着他，语气沉稳「你为什么突然回来？」\"})\n+        if favorability > 65:\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"})\n+            favor_change = +1\n+        elif favorability < 55:\n+            dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多：「呵。」\"})\n+            favor_change = -1\n+        else:\n+            dialogue_sequence.append({\n+                \"speaker\": \"戈多\",\n+                \"line\": (\n+                    \"戈多：「……咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\\n\"\n+                    \"它领你走入暮色中的玫瑰园，\\n\"\n+                    \"听潮水在远方低声吟诵逝去的誓言，\\n\"\n+                    \"直到你明白，世间万物都曾以苦为名，学会生长。」\"\n+    )\n+})\n+            favor_change = 0\n+        return EventResult(\"质问戈多的执着\", favor_change, dialogue_sequence)\n+\n+    elif choice == \"3\":\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你坚定地站在被告身旁，目光毫不退缩。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": \"戈多微微摇头「所以，你终究还是站在他那边啊……」\"})\n+        return EventResult(\"坚定维护委托人\", 0, dialogue_sequence)\n+\n+    else:\n+        dialogue_sequence.append({\"speaker\": \"你\", \"line\": \"你保持沉默，不做任何反应。\"})\n+        dialogue_sequence.append({\"speaker\": \"戈多\", \"line\": f\"「沉默不代表无罪，{get_nickname(favorability)}。」\"})\n+        return EventResult(\"沉默\", 0, dialogue_sequence)\n"
                }
            ],
            "date": 1741268507897,
            "name": "Commit-0",
            "content": "from story_content import get_nick_name\n\nClass EventResult:\n    def __init__(self, player_choice,reaction, favor_change, past_story):\n        self.player_choice = player_choice\n        self.reaction = reaction\n        self.favor_change = favor_change\n        self.past_story = past_story\n    \n    def progress_3_event(favorability):\n        from utils.past_story import get_past_story\n\nclass EventResult:\n    def __init__(self, player_choice, reaction, favor_change, past_story=None):\n        self.player_choice = player_choice\n        self.reaction = reaction  # reaction改成list，存多行\n        self.favor_change = favor_change\n        self.past_story = past_story\n        \n    def progress_2_event(favorability):\n    #玩家反驳\n    if favorability > 65:\n        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n    elif favorability < 55:\n        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n    else:\n        print(\"\\n「你误会了，他才不是我男朋友。」\")\n    favor_change = +1\n    \n    print(\"【选项】\\n1. 冷静分析证据\\n2. 问戈多为什么突然回来\\n3. 坚定维护委托人，直接反击\")\n    choice = input(\"输入选项编号(1-3)：\")\n\n    if choice == \"1\"\n        reaction = [\n            \"你摇了摇头，「戈多，我相信他是无罪的。\"\n            \"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。,\n            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\",\n            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"     \n        ]\n        return EventResult(\"他是无罪的\", reaction, 0)\n\n    elif choice == \"2\":\n        reaction = [\n            \"你只是看了他一眼，「这件事和你无关，检察官先生，我只想保护他。」\",\n            \"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\",\n            \"虽然你看不到他脸上的表情，但你能感受到他在看着你。\"\n            \"「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\n        ]\n        return EventResult(\"这与你无关\", reaction, -3)\n\n    elif choice == \"3\":\n        reaction = [\n            \"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\",\n            \"戈多：「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n        ]\n        return EventResult(\"是啊，他真的是很麻烦\", reaction, +5)\n\n    else:\n        reaction = [\n            \"你选择沉默不语。\",\n            \"戈多:怎么了，是还在烦恼你新男朋友的案件吗？\"\n        ]\n        return EventResult(\"沉默\", reaction, 0)\n\n        "
        }
    ]
}