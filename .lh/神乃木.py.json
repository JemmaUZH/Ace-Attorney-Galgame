{
    "sourceFile": "神乃木.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 34,
            "patches": [
                {
                    "date": 1741186936499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741189446633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n             past_story_text = None\n             progress += 1\n         else:\n             player_choice_text = \"什么都不说\"\n-            reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗」\"\n+            reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n             print(f\"{character['name']}：{reaction}\")\n             favor_change = 0\n             past_story_text = None\n             progress += 1\n"
                },
                {
                    "date": 1741189474906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,9 +121,9 @@\n         choice = input(\"输入选项编号(1-3)：\")\n \n         if choice == \"1\":\n             player_choice_text = \"他是无罪的\"\n-            reaction = f\"{轻笑：「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"}\"\n+            reaction = f\"{轻笑:「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"}\"\n             print(\"\\n「他是无罪的，我会证明给你看。」\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favor_change = 0\n             progress += 1\n"
                },
                {
                    "date": 1741189515023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,9 +121,9 @@\n         choice = input(\"输入选项编号(1-3)：\")\n \n         if choice == \"1\":\n             player_choice_text = \"他是无罪的\"\n-            reaction = f\"{轻笑:「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"}\"\n+            reaction = f\"{轻笑:「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」}\"\n             print(\"\\n「他是无罪的，我会证明给你看。」\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favor_change = 0\n             progress += 1\n"
                },
                {
                    "date": 1741189537762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,9 +129,9 @@\n             progress += 1\n             \n         elif choice == \"2\":\n             player_choice_text = \"这与你无关\"\n-            reaction = f\"{脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」\"}\"\n+            reaction = f\"{脸上的笑容消失了,「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」\"}\"\n             print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favorability -= 3\n             favor_change = -2\n"
                },
                {
                    "date": 1741189551081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,9 +129,9 @@\n             progress += 1\n             \n         elif choice == \"2\":\n             player_choice_text = \"这与你无关\"\n-            reaction = f\"{脸上的笑容消失了,「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」\"}\"\n+            reaction = f\"{脸上的笑容消失了,「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」}\"\n             print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favorability -= 3\n             favor_change = -2\n"
                },
                {
                    "date": 1741189631382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,9 +129,11 @@\n             progress += 1\n             \n         elif choice == \"2\":\n             player_choice_text = \"这与你无关\"\n-            reaction = f\"{脸上的笑容消失了,「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」}\"\n+            reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n\n+            虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n\n+            「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n             print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favorability -= 3\n             favor_change = -2\n"
                },
                {
                    "date": 1741189735396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,10 +193,14 @@\n         print(log)\n     print(f\"（最终好感度：{favorability}）\\n\")\n \n def main():\n+    global progress\n+    \n     introduce_character()\n-    player_choice()\n+    while progress <= 3:\n+        player_choice()\n+    \n     print_dialogue()\n \n if __name__ == \"__main__\":\n     main()\n"
                },
                {
                    "date": 1741189776834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,10 +129,10 @@\n             progress += 1\n             \n         elif choice == \"2\":\n             player_choice_text = \"这与你无关\"\n-            reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n\n-            虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n\n+            reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n+            虽然你看不到他脸上的表情，但你能感受到他在看着你。\n             「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n             print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favorability -= 3\n"
                },
                {
                    "date": 1741189800697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n             player_choice_text = \"这与你无关\"\n             reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n             虽然你看不到他脸上的表情，但你能感受到他在看着你。\n             「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n-            print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n+            print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favorability -= 3\n             favor_change = -2\n             past_story_text = None\n"
                },
                {
                    "date": 1741189899398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,8 +109,9 @@\n             print(f\"{character['name']}：{reaction}\")\n             favor_change = 0\n             past_story_text = None\n             progress += 1\n+    print(\"---------------------------------------------------------------\")\n \n     elif progress == 2:\n         print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n         print(\"【选项】\")\n"
                },
                {
                    "date": 1741189926407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n             print(f\"{character['name']}：{reaction}\")\n             favor_change = 0\n             past_story_text = None\n             progress += 1\n-    print(\"---------------------------------------------------------------\")\n+        print(\"---------------------------------------------------------------\")\n \n     elif progress == 2:\n         print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n         print(\"【选项】\")\n"
                },
                {
                    "date": 1741190156555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n     print(f\"「{get_nickname()}，好久不见。」\")\n     print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n \n # 记录每次对话\n-def record_dialogue(player_choice, godot_reaction, favor_change, past_story_text=None):\n+def record_dialogue(player_choice, godot_reaction, favor_change, past_story_text):\n     review = random.choice(旁白小记)\n     log = (\n         f\"玩家选择：{player_choice}\\n\"\n         f\"戈多的反应：{godot_reaction}\\n\"\n"
                },
                {
                    "date": 1741190190804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,13 @@\n         choice = input(\"输入选项编号(1-3)：\")\n \n         if choice == \"1\":\n             player_choice_text = \"他是无罪的\"\n-            reaction = f\"{轻笑:「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」}\"\n+            reaction = (\n+                f\"轻笑：「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，\"\n+                \"接下这么棘手的案子，是因为你有什么新的发现，还是说……」\"\n+                \"他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"\n+            )\n             print(\"\\n「他是无罪的，我会证明给你看。」\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favor_change = 0\n             progress += 1\n"
                },
                {
                    "date": 1741190288135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,13 +159,13 @@\n             print(f\"{character['name']}：{reaction}\")\n             favor_change = 0\n             past_story_text = None\n             progress += 1\n+    \n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n         \n-        # 记录对话\n-        record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n-        print(f\"（隐藏好感度：{favorability})\\n\")\n-        \n \n # 叙旧剧情（返回文本）\n def past_story():\n     parts = [\n"
                },
                {
                    "date": 1741190414271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,13 @@\n # 玩家选择分支\n def player_choice():\n     global favorability, progress\n     \n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n     if progress == 1:\n         print(\"【选项】\")\n         print(\"1. 表示疑惑询问他是谁\")\n         print(\"2. 点头微笑\")\n"
                },
                {
                    "date": 1741190460879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,9 +206,9 @@\n def main():\n     global progress\n     \n     introduce_character()\n-    while progress <= 3:\n+    while progress <= 2:\n         player_choice()\n     \n     print_dialogue()\n \n"
                },
                {
                    "date": 1741190541257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,9 +128,9 @@\n \n         if choice == \"1\":\n             player_choice_text = \"他是无罪的\"\n             reaction = (\n-                f\"轻笑：「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，\"\n+                f\"轻笑，「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，\"\n                 \"接下这么棘手的案子，是因为你有什么新的发现，还是说……」\"\n                 \"他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"\n             )\n             print(\"\\n「他是无罪的，我会证明给你看。」\")\n"
                },
                {
                    "date": 1741191859743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,10 +65,70 @@\n progress = 1\n \n # 玩家选择分支\n def player_choice():\n+    global progress\n+    if progress == 1\n+        handle_progress_1()\n+    elif progress == 2:\n+        handle_progress_2()\n+    elif progress == 3:\n+        handle_progress_3()\n+\n+def handle_progress_1():\n     global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n     \n+    print(\"【选项】\")\n+    print(\"1. 表示疑惑询问他是谁\")\n+    print(\"2. 点头微笑\")\n+    print(\"3. 直接反驳\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"表示疑惑询问他是谁\"\n+        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n+        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        past_story_text = past_story()\n+        favor_change = 0\n+        progress += 1\n+    elif choice == \"2\":\n+        player_choice_text = \"点头微笑\"\n+        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n+        print(\"\\n你点头微笑，表示礼貌。\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 2\n+        favor_change = +2\n+        past_story_text = None\n+        progress += 1\n+    elif choice == \"3\":\n+        player_choice_text = \"直接反驳\"\n+        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n+        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 2\n+        favor_change = -2\n+        past_story_text = None\n+        progress += 1\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n+        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+        progress += 1\n+    print(\"---------------------------------------------------------------\")\n+    \n+\n+def player_choice():\n+    global favorability, progress\n+    \n     player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n     reaction = \"\"\n     favor_change = 0\n     past_story_text = None\n@@ -128,11 +188,11 @@\n \n         if choice == \"1\":\n             player_choice_text = \"他是无罪的\"\n             reaction = (\n-                f\"轻笑，「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，\"\n-                \"接下这么棘手的案子，是因为你有什么新的发现，还是说……」\"\n-                \"他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"\n+                f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n+                \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n+                \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n             )\n             print(\"\\n「他是无罪的，我会证明给你看。」\")\n             print(f'{character[\"name\"]}: {reaction}')\n             favor_change = 0\n"
                },
                {
                    "date": 1741192431877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,116 +121,90 @@\n         print(f\"{character['name']}：{reaction}\")\n         favor_change = 0\n         past_story_text = None\n         progress += 1\n+    \n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n     print(\"---------------------------------------------------------------\")\n     \n-\n-def player_choice():\n+def handle_progress_2():\n     global favorability, progress\n-    \n     player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n     reaction = \"\"\n     favor_change = 0\n     past_story_text = None\n     \n-    if progress == 1:\n-        print(\"【选项】\")\n-        print(\"1. 表示疑惑询问他是谁\")\n-        print(\"2. 点头微笑\")\n-        print(\"3. 直接反驳\")\n+    choice = input(\"输入选项编号(1-3)：\")\n         \n-        choice = input(\"输入选项编号(1-3)：\")\n+    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n+    print(\"【选项】\")\n+    print(\"1. 他是无罪的\")\n+    print(\"2. 这与你无关\")\n+    print(\"3. 是啊，他真的是很麻烦\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n \n-        if choice == \"1\":\n-            player_choice_text = \"表示疑惑询问他是谁\"\n-            reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n-            print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            past_story_text = past_story()\n-            favor_change = 0\n-            progress += 1\n-        elif choice == \"2\":\n-            player_choice_text = \"点头微笑\"\n-            reaction = \"戈多微微一笑，「看来你还记得我。」\"\n-            print(\"\\n你点头微笑，表示礼貌。\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            favorability += 2\n-            favor_change = +2\n-            past_story_text = None\n-            progress += 1\n-        elif choice == \"3\":\n-            player_choice_text = \"直接反驳\"\n-            reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n-            print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            favorability -= 2\n-            favor_change = -2\n-            past_story_text = None\n-            progress += 1\n-        else:\n-            player_choice_text = \"什么都不说\"\n-            reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n-            print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n-            print(f\"{character['name']}：{reaction}\")\n-            favor_change = 0\n-            past_story_text = None\n-            progress += 1\n-        print(\"---------------------------------------------------------------\")\n-\n-    elif progress == 2:\n-        print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n-        print(\"【选项】\")\n-        print(\"1. 他是无罪的\")\n-        print(\"2. 这与你无关\")\n-        print(\"3. 是啊，他真的是很麻烦\")\n-        \n-        choice = input(\"输入选项编号(1-3)：\")\n-\n-        if choice == \"1\":\n-            player_choice_text = \"他是无罪的\"\n-            reaction = (\n-                f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n-                \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n-                \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n-            )\n-            print(\"\\n「他是无罪的，我会证明给你看。」\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            favor_change = 0\n-            progress += 1\n-            \n-        elif choice == \"2\":\n-            player_choice_text = \"这与你无关\"\n-            reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n-            虽然你看不到他脸上的表情，但你能感受到他在看着你。\n-            「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n-            print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            favorability -= 3\n-            favor_change = -2\n-            past_story_text = None\n-            progress += 1\n-        elif choice == \"3\":\n-            player_choice_text = \"是啊，他真的是很麻烦\"\n-            reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n-            print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n-            print(f'{character[\"name\"]}: {reaction}')\n-            favorability += 5\n-            favor_change = +5\n-            past_story_text = None\n-            progress += 1\n-        else:\n-            player_choice_text = \"什么都不说\"\n-            reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n-            print(f\"{character['name']}：{reaction}\")\n-            favor_change = 0\n-            past_story_text = None\n-            progress += 1\n+    if choice == \"1\":\n+        player_choice_text = \"他是无罪的\"\n+        reaction = (\n+            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n+            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n+            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n+        )\n+        print(\"\\n「他是无罪的，我会证明给你看。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = 0\n+        progress += 1\n+    elif choice == \"2\":\n+        player_choice_text = \"这与你无关\"\n+        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n+        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n+        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n+        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 3\n+        favor_change = -3\n+        past_story_text = None\n+        progress += 1\n+    elif choice == \"3\":\n+        player_choice_text = \"是啊，他真的是很麻烦\"\n+        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n+        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 5\n+        favor_change = +5\n+        past_story_text = None\n+        progress += 1\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+        progress += 1\n     \n-    # 记录对话\n     record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n     print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+\n+def handle_progress_3():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    if favorability > 60:\n+        print(\"什么男朋友！他才不是我的男朋友呢，我只是想帮他而已！\")\n+    elif favorability < 55:\n+        print(f\"\\n{character['name']}：「我已经看得够多了，{get_nickname()}，你的每一个动作都暴露了你的软肋。」\")\n+    else:\n+        print(f\"\\n{character['name']}：「案件已经到了这个地步，我只问你最后一次，你真的还打算继续替他掩盖吗？」\")\n+    \n         \n+        \n \n # 叙旧剧情（返回文本）\n def past_story():\n     parts = [\n"
                },
                {
                    "date": 1741192455299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,250 @@\n+import random\n+\n+# 角色信息\n+character = {\n+    \"name\": \"戈多\",\n+    \"age\": 27,\n+    \"occupation\": \"检察官\",\n+    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n+    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n+    \"mood\": \"温柔中带着试探\",\n+    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n+}\n+\n+# 全局好感度\n+favorability = 60\n+\n+# 存储剧情的对话日志列表\n+dialogue = []\n+\n+# 旁白小记（吐槽）\n+旁白小记 = [\n+    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n+    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n+    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n+    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n+    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n+]\n+\n+# 根据好感度动态生成称呼\n+def get_nickname():\n+    if favorability >= 60:\n+        return \"猫咪小姐\"\n+    elif favorability <= 40:\n+        return \"女士\"\n+    else:\n+        return \"被告小姐\"\n+\n+# 戈多登场介绍\n+def introduce_character():\n+    print(\"---------------------------------------------------------------\")\n+    print(f\"【{character['name']}】\")\n+    print(f\"年龄：{character['age']}岁\")\n+    print(f\"职业：{character['occupation']}\")\n+    print(f\"性格：{character['personality']}\")\n+    print(f\"背景故事：{character['background']}\")\n+    print(f\"当前表情：{character['mood']}\")\n+    print(\"---------------------------------------------------------------\\n\")\n+    print(f\"「{get_nickname()}，好久不见。」\")\n+    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n+\n+# 记录每次对话\n+def record_dialogue(player_choice, godot_reaction, favor_change, past_story_text):\n+    review = random.choice(旁白小记)\n+    log = (\n+        f\"玩家选择：{player_choice}\\n\"\n+        f\"戈多的反应：{godot_reaction}\\n\"\n+        f\"{review}\\n\"\n+        f\"好感度变化：{favor_change:+}\\n\"\n+    )\n+    if past_story_text:\n+        log += f\"\\n{past_story_text}\\n\"\n+    dialogue.append(log)\n+\n+#新增剧情轮次\n+progress = 1\n+\n+# 玩家选择分支\n+def player_choice():\n+    global progress\n+    if progress == 1\n+        handle_progress_1()\n+    elif progress == 2:\n+        handle_progress_2()\n+    elif progress == 3:\n+        handle_progress_3()\n+\n+def handle_progress_1():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    print(\"【选项】\")\n+    print(\"1. 表示疑惑询问他是谁\")\n+    print(\"2. 点头微笑\")\n+    print(\"3. 直接反驳\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"表示疑惑询问他是谁\"\n+        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n+        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        past_story_text = past_story()\n+        favor_change = 0\n+        progress += 1\n+    elif choice == \"2\":\n+        player_choice_text = \"点头微笑\"\n+        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n+        print(\"\\n你点头微笑，表示礼貌。\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 2\n+        favor_change = +2\n+        past_story_text = None\n+        progress += 1\n+    elif choice == \"3\":\n+        player_choice_text = \"直接反驳\"\n+        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n+        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 3\n+        favor_change = -3\n+        past_story_text = None\n+        progress += 1\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n+        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+        progress += 1\n+    \n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+    \n+def handle_progress_2():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+        \n+    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n+    print(\"【选项】\")\n+    print(\"1. 他是无罪的\")\n+    print(\"2. 这与你无关\")\n+    print(\"3. 是啊，他真的是很麻烦\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"他是无罪的\"\n+        reaction = (\n+            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n+            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n+            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n+        )\n+        print(\"\\n「他是无罪的，我会证明给你看。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = 0\n+        progress += 1\n+    elif choice == \"2\":\n+        player_choice_text = \"这与你无关\"\n+        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n+        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n+        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n+        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 3\n+        favor_change = -3\n+        past_story_text = None\n+        progress += 1\n+    elif choice == \"3\":\n+        player_choice_text = \"是啊，他真的是很麻烦\"\n+        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n+        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 5\n+        favor_change = +5\n+        past_story_text = None\n+        progress += 1\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+        progress += 1\n+    \n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+\n+def handle_progress_3():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    if favorability > 60:\n+        print(\"什么男朋友！他才不是我的男朋友呢，我只是想帮他而已！\")\n+    elif favorability < 55:\n+        print(f\"\\n{character['name']}：「我已经看得够多了，{get_nickname()}，你的每一个动作都暴露了你的软肋。」\")\n+    else:\n+        print(f\"\\n{character['name']}：「案件已经到了这个地步，我只问你最后一次，你真的还打算继续替他掩盖吗？」\")\n+    \n+        \n+        \n+\n+# 叙旧剧情（返回文本）\n+def past_story():\n+    parts = [\n+        \"——【五年前的回忆】\",\n+        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n+        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n+        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n+    ]\n+    if favorability > 50:\n+        parts.extend([\n+            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n+            \"「说实话……再次见到你，我其实有点开心。」\"\n+            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n+            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n+        ])\n+    else:\n+        parts.extend([\n+            \"戈多轻叹一口气，微微摇头。\",\n+            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n+        ])\n+    for line in parts:\n+        print(line)\n+    return \"\\n\".join(parts)\n+\n+# 最终打印日志\n+def print_dialogue():\n+    print(\"---------------------------------------------------------------\")\n+    print(\"\\n【对话记录】\")\n+    for log in dialogue:\n+        print(log)\n+    print(f\"（最终好感度：{favorability}）\\n\")\n+\n+def main():\n+    global progress\n+    \n+    introduce_character()\n+    while progress <= 2:\n+        player_choice()\n+    \n+    print_dialogue()\n+\n+if __name__ == \"__main__\":\n+    main()\n"
                },
                {
                    "date": 1741192682211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,14 +194,14 @@\n     reaction = \"\"\n     favor_change = 0\n     past_story_text = None\n     \n-    if favorability > 60:\n-        print(\"什么男朋友！他才不是我的男朋友呢，我只是想帮他而已！\")\n+    if favorability > 65:\n+        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n     elif favorability < 55:\n-        print(f\"\\n{character['name']}：「我已经看得够多了，{get_nickname()}，你的每一个动作都暴露了你的软肋。」\")\n+        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n     else:\n-        print(f\"\\n{character['name']}：「案件已经到了这个地步，我只问你最后一次，你真的还打算继续替他掩盖吗？」\")\n+        print(\"\\n「你误会了，他才不是我男朋友。」\")\n     \n         \n         \n \n@@ -247,254 +247,4 @@\n     print_dialogue()\n \n if __name__ == \"__main__\":\n     main()\n-import random\n-\n-# 角色信息\n-character = {\n-    \"name\": \"戈多\",\n-    \"age\": 27,\n-    \"occupation\": \"检察官\",\n-    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n-    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n-    \"mood\": \"温柔中带着试探\",\n-    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n-}\n-\n-# 全局好感度\n-favorability = 60\n-\n-# 存储剧情的对话日志列表\n-dialogue = []\n-\n-# 旁白小记（吐槽）\n-旁白小记 = [\n-    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n-    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n-    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n-    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n-    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n-]\n-\n-# 根据好感度动态生成称呼\n-def get_nickname():\n-    if favorability >= 60:\n-        return \"猫咪小姐\"\n-    elif favorability <= 40:\n-        return \"女士\"\n-    else:\n-        return \"被告小姐\"\n-\n-# 戈多登场介绍\n-def introduce_character():\n-    print(\"---------------------------------------------------------------\")\n-    print(f\"【{character['name']}】\")\n-    print(f\"年龄：{character['age']}岁\")\n-    print(f\"职业：{character['occupation']}\")\n-    print(f\"性格：{character['personality']}\")\n-    print(f\"背景故事：{character['background']}\")\n-    print(f\"当前表情：{character['mood']}\")\n-    print(\"---------------------------------------------------------------\\n\")\n-    print(f\"「{get_nickname()}，好久不见。」\")\n-    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n-\n-# 记录每次对话\n-def record_dialogue(player_choice, godot_reaction, favor_change, past_story_text):\n-    review = random.choice(旁白小记)\n-    log = (\n-        f\"玩家选择：{player_choice}\\n\"\n-        f\"戈多的反应：{godot_reaction}\\n\"\n-        f\"{review}\\n\"\n-        f\"好感度变化：{favor_change:+}\\n\"\n-    )\n-    if past_story_text:\n-        log += f\"\\n{past_story_text}\\n\"\n-    dialogue.append(log)\n-\n-#新增剧情轮次\n-progress = 1\n-\n-# 玩家选择分支\n-def player_choice():\n-    global progress\n-    if progress == 1\n-        handle_progress_1()\n-    elif progress == 2:\n-        handle_progress_2()\n-    elif progress == 3:\n-        handle_progress_3()\n-\n-def handle_progress_1():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-    \n-    print(\"【选项】\")\n-    print(\"1. 表示疑惑询问他是谁\")\n-    print(\"2. 点头微笑\")\n-    print(\"3. 直接反驳\")\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        player_choice_text = \"表示疑惑询问他是谁\"\n-        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n-        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        past_story_text = past_story()\n-        favor_change = 0\n-        progress += 1\n-    elif choice == \"2\":\n-        player_choice_text = \"点头微笑\"\n-        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n-        print(\"\\n你点头微笑，表示礼貌。\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 2\n-        favor_change = +2\n-        past_story_text = None\n-        progress += 1\n-    elif choice == \"3\":\n-        player_choice_text = \"直接反驳\"\n-        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n-        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 2\n-        favor_change = -2\n-        past_story_text = None\n-        progress += 1\n-    else:\n-        player_choice_text = \"什么都不说\"\n-        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n-        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n-        print(f\"{character['name']}：{reaction}\")\n-        favor_change = 0\n-        past_story_text = None\n-        progress += 1\n-    \n-    # 记录对话\n-    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n-    print(f\"（隐藏好感度：{favorability})\\n\")\n-    print(\"---------------------------------------------------------------\")\n-    \n-def handle_progress_2():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-        \n-    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n-    print(\"【选项】\")\n-    print(\"1. 他是无罪的\")\n-    print(\"2. 这与你无关\")\n-    print(\"3. 是啊，他真的是很麻烦\")\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        player_choice_text = \"他是无罪的\"\n-        reaction = (\n-            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n-            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n-            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n-        )\n-        print(\"\\n「他是无罪的，我会证明给你看。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favor_change = 0\n-        progress += 1\n-    elif choice == \"2\":\n-        player_choice_text = \"这与你无关\"\n-        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n-        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n-        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n-        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 3\n-        favor_change = -3\n-        past_story_text = None\n-        progress += 1\n-    elif choice == \"3\":\n-        player_choice_text = \"是啊，他真的是很麻烦\"\n-        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n-        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 5\n-        favor_change = +5\n-        past_story_text = None\n-        progress += 1\n-    else:\n-        player_choice_text = \"什么都不说\"\n-        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n-        print(f\"{character['name']}：{reaction}\")\n-        favor_change = 0\n-        past_story_text = None\n-        progress += 1\n-    \n-    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n-    print(f\"（隐藏好感度：{favorability})\\n\")\n-    print(\"---------------------------------------------------------------\")\n-\n-def handle_progress_3():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-    \n-    if favorability > 60:\n-        print(\"什么男朋友！他才不是我的男朋友呢，我只是想帮他而已！\")\n-    elif favorability < 55:\n-        print(f\"\\n{character['name']}：「我已经看得够多了，{get_nickname()}，你的每一个动作都暴露了你的软肋。」\")\n-    else:\n-        print(f\"\\n{character['name']}：「案件已经到了这个地步，我只问你最后一次，你真的还打算继续替他掩盖吗？」\")\n-    \n-        \n-        \n-\n-# 叙旧剧情（返回文本）\n-def past_story():\n-    parts = [\n-        \"——【五年前的回忆】\",\n-        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n-        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n-        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n-    ]\n-    if favorability > 50:\n-        parts.extend([\n-            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n-            \"「说实话……再次见到你，我其实有点开心。」\"\n-            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n-            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n-        ])\n-    else:\n-        parts.extend([\n-            \"戈多轻叹一口气，微微摇头。\",\n-            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n-        ])\n-    for line in parts:\n-        print(line)\n-    return \"\\n\".join(parts)\n-\n-# 最终打印日志\n-def print_dialogue():\n-    print(\"---------------------------------------------------------------\")\n-    print(\"\\n【对话记录】\")\n-    for log in dialogue:\n-        print(log)\n-    print(f\"（最终好感度：{favorability}）\\n\")\n-\n-def main():\n-    global progress\n-    \n-    introduce_character()\n-    while progress <= 2:\n-        player_choice()\n-    \n-    print_dialogue()\n-\n-if __name__ == \"__main__\":\n-    main()\n"
                },
                {
                    "date": 1741193627060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,10 +201,51 @@\n         print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n     else:\n         print(\"\\n「你误会了，他才不是我男朋友。」\")\n     \n+    print(\"\\n【选项】\")\n+    print(\"1. 冷静分析证据\")\n+    print(\"2. 问戈多为什么突然回来\")\n+    print(\"3. 坚定维护委托人，直接反击\")\n+    \n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        print(\"\\n你抽出案件的文案，给戈多看并分析。\")\n+        if favorability > 65:\n+            reaction = f\"{character['name']}微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+            key_note = \"玩家主动分析证据，态度理性\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+            key_note = \"玩家被动分析证据，缺乏信任感\"\n+        else:\n+            reaction = f\"{character['name']}点头：「听听你的分析吧。」\"\n+            favor_change = +1\n+            key_note = \"玩家正常分析证据\"\n+    \n+    elif choice == \"2\":\n+        player_choice_text = \"质问戈多的执着\"\n+        if favorability > 65:\n+            reaction = f\"{character['name']}把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+            key_note = \"玩家质问戈多，戈多坦白动机\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}：「呵。」\"\n+            favor_change = -2\n+            key_note = \"玩家质问失败，戈多态度强硬\"\n+        else:\n+            reaction = f\"\"\"\"{character['name']}：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n+            它领你走入暮色中的玫瑰园，\n+            听潮水在远方低声吟诵逝去的誓言，\n+            直到你明白，世间万物都曾以苦为名，学会生长。」\n+            \"\"\"\n+            favor_change = -1\n+            key_note = \"玩家质问戈多，但未获取有效信息\"\n         \n+    \n         \n+        \n \n # 叙旧剧情（返回文本）\n def past_story():\n     parts = [\n"
                },
                {
                    "date": 1741193746488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,8 +200,9 @@\n     elif favorability < 55:\n         print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n     else:\n         print(\"\\n「你误会了，他才不是我男朋友。」\")\n+    favor_change = +1\n     \n     print(\"\\n【选项】\")\n     print(\"1. 冷静分析证据\")\n     print(\"2. 问戈多为什么突然回来\")\n@@ -227,22 +228,42 @@\n         player_choice_text = \"质问戈多的执着\"\n         if favorability > 65:\n             reaction = f\"{character['name']}把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n             favor_change = +1\n-            key_note = \"玩家质问戈多，戈多坦白动机\"\n+            key_note = \"玩家询问戈多，戈多坦白动机\"\n         elif favorability < 55:\n             reaction = f\"{character['name']}：「呵。」\"\n-            favor_change = -2\n-            key_note = \"玩家质问失败，戈多态度强硬\"\n+            favor_change = -1\n+            key_note = \"玩家询问失败，戈多态度强硬\"\n         else:\n             reaction = f\"\"\"\"{character['name']}：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n             它领你走入暮色中的玫瑰园，\n             听潮水在远方低声吟诵逝去的誓言，\n             直到你明白，世间万物都曾以苦为名，学会生长。」\n             \"\"\"\n-            favor_change = -1\n-            key_note = \"玩家质问戈多，但未获取有效信息\"\n+            favor_change = 0\n+            key_note = \"玩家询问戈多，但未获取有效信息\"\n+    \n+    elif choice == \"3\":\n+        player_choice_text = \"坚定维护委托人\"\n+        if favorability > 65:\n+            reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊……」\"\n+            favor_change = 0\n+            key_note = \"玩家明确立场，戈多有点失落\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}：「死鸭子嘴硬，早该料到的。」\"\n+            favor_change = -3\n+            key_note = \"玩家维护委托人，戈多直接冷脸\"\n+        else:\n+            reaction = f\"{character['name']}：「好吧，我尊重你的选择。」\"\n+            favor_change = 0\n+            key_note = \"玩家表态维护委托人\"\n         \n+    else:\n+        player_choice_text = \"沉默不语\"\n+        reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n+        favor_change = 0\n+        key_note = \"玩家保持沉默，戈多态度难测\"\n     \n         \n         \n \n"
                },
                {
                    "date": 1741193811423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,20 +244,11 @@\n             key_note = \"玩家询问戈多，但未获取有效信息\"\n     \n     elif choice == \"3\":\n         player_choice_text = \"坚定维护委托人\"\n-        if favorability > 65:\n-            reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊……」\"\n-            favor_change = 0\n-            key_note = \"玩家明确立场，戈多有点失落\"\n-        elif favorability < 55:\n-            reaction = f\"{character['name']}：「死鸭子嘴硬，早该料到的。」\"\n-            favor_change = -3\n-            key_note = \"玩家维护委托人，戈多直接冷脸\"\n-        else:\n-            reaction = f\"{character['name']}：「好吧，我尊重你的选择。」\"\n-            favor_change = 0\n-            key_note = \"玩家表态维护委托人\"\n+        reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊……」\"\n+        favor_change = 0\n+        key_note = \"玩家明确立场，戈多有点失落\"\n         \n     else:\n         player_choice_text = \"沉默不语\"\n         reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n"
                },
                {
                    "date": 1741193958446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,8 +122,16 @@\n         favor_change = 0\n         past_story_text = None\n         progress += 1\n     \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+    \n     # 记录对话\n     record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n     print(f\"（隐藏好感度：{favorability})\\n\")\n     print(\"---------------------------------------------------------------\")\n@@ -183,8 +191,16 @@\n         favor_change = 0\n         past_story_text = None\n         progress += 1\n     \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+        \n     record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n     print(f\"（隐藏好感度：{favorability})\\n\")\n     print(\"---------------------------------------------------------------\")\n \n@@ -254,8 +270,19 @@\n         reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n         favor_change = 0\n         key_note = \"玩家保持沉默，戈多态度难测\"\n     \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+    print(f\"（隐藏好感度：{favorability}）\\n\")\n+\n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, key_note)\n         \n         \n \n # 叙旧剧情（返回文本）\n"
                },
                {
                    "date": 1741193970371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n \n # 玩家选择分支\n def player_choice():\n     global progress\n-    if progress == 1\n+    if progress == 1:\n         handle_progress_1()\n     elif progress == 2:\n         handle_progress_2()\n     elif progress == 3:\n"
                },
                {
                    "date": 1741194070978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,10 +141,8 @@\n     player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n     reaction = \"\"\n     favor_change = 0\n     past_story_text = None\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n         \n     print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n     print(\"【选项】\")\n     print(\"1. 他是无罪的\")\n@@ -223,8 +221,10 @@\n     print(\"1. 冷静分析证据\")\n     print(\"2. 问戈多为什么突然回来\")\n     print(\"3. 坚定维护委托人，直接反击\")\n     \n+    choice = input(\"输入选项编号(1-3)：\")\n+    \n     if choice == \"1\":\n         player_choice_text = \"冷静分析证据\"\n         print(\"\\n你抽出案件的文案，给戈多看并分析。\")\n         if favorability > 65:\n"
                },
                {
                    "date": 1741194097135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -295,9 +295,9 @@\n     ]\n     if favorability > 50:\n         parts.extend([\n             \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n-            \"「说实话……再次见到你，我其实有点开心。」\"\n+            \"「说实话……再次见到你，我其实有点开心。」\",\n             \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n             \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n         ])\n     else:\n"
                },
                {
                    "date": 1741194284639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,322 @@\n+import random\n+\n+# 角色信息\n+character = {\n+    \"name\": \"戈多\",\n+    \"age\": 27,\n+    \"occupation\": \"检察官\",\n+    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n+    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n+    \"mood\": \"温柔中带着试探\",\n+    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n+}\n+\n+# 全局好感度\n+favorability = 60\n+\n+# 存储剧情的对话日志列表\n+dialogue = []\n+\n+# 旁白小记（吐槽）\n+旁白小记 = [\n+    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n+    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n+    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n+    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n+    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n+]\n+\n+# 根据好感度动态生成称呼\n+def get_nickname():\n+    if favorability >= 60:\n+        return \"猫咪小姐\"\n+    elif favorability <= 40:\n+        return \"女士\"\n+    else:\n+        return \"被告小姐\"\n+\n+# 戈多登场介绍\n+def introduce_character():\n+    print(\"---------------------------------------------------------------\")\n+    print(f\"【{character['name']}】\")\n+    print(f\"年龄：{character['age']}岁\")\n+    print(f\"职业：{character['occupation']}\")\n+    print(f\"性格：{character['personality']}\")\n+    print(f\"背景故事：{character['background']}\")\n+    print(f\"当前表情：{character['mood']}\")\n+    print(\"---------------------------------------------------------------\\n\")\n+    print(f\"「{get_nickname()}，好久不见。」\")\n+    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n+\n+# 记录每次对话\n+def record_dialogue(player_choice, godot_reaction, favor_change, key_note=None, past_story_text=None):\n+    review = random.choice(旁白小记)\n+    log = (\n+        f\"玩家选择：{player_choice}\\n\"\n+        f\"戈多的反应：{godot_reaction}\\n\"\n+        f\"{review}\\n\"\n+        f\"好感度变化：{favor_change:+}\\n\"\n+    )\n+    if past_story_text:\n+        log += f\"\\n{past_story_text}\\n\"\n+    dialogue.append(log)\n+\n+#新增剧情轮次\n+progress = 1\n+\n+# 玩家选择分支\n+def player_choice():\n+    global progress\n+    if progress == 1:\n+        handle_progress_1()\n+    elif progress == 2:\n+        handle_progress_2()\n+    elif progress == 3:\n+        handle_progress_3()\n+\n+def handle_progress_1():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    print(\"【选项】\")\n+    print(\"1. 表示疑惑询问他是谁\")\n+    print(\"2. 点头微笑\")\n+    print(\"3. 直接反驳\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"表示疑惑询问他是谁\"\n+        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n+        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        past_story_text = past_story()\n+        favor_change = 0\n+    elif choice == \"2\":\n+        player_choice_text = \"点头微笑\"\n+        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n+        print(\"\\n你点头微笑，表示礼貌。\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 2\n+        favor_change = +2\n+        past_story_text = None\n+    elif choice == \"3\":\n+        player_choice_text = \"直接反驳\"\n+        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n+        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 3\n+        favor_change = -3\n+        past_story_text = None\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n+        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+    \n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+    \n+def handle_progress_2():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+        \n+    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n+    print(\"【选项】\")\n+    print(\"1. 他是无罪的\")\n+    print(\"2. 这与你无关\")\n+    print(\"3. 是啊，他真的是很麻烦\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"他是无罪的\"\n+        reaction = (\n+            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n+            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n+            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n+        )\n+        print(\"\\n「他是无罪的，我会证明给你看。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = 0\n+    elif choice == \"2\":\n+        player_choice_text = \"这与你无关\"\n+        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n+        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n+        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n+        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability -= 3\n+        favor_change = -3\n+        past_story_text = None\n+    elif choice == \"3\":\n+        player_choice_text = \"是啊，他真的是很麻烦\"\n+        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n+        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favorability += 5\n+        favor_change = +5\n+        past_story_text = None\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+        \n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+\n+def handle_progress_3():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    if favorability > 65:\n+        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n+    elif favorability < 55:\n+        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n+    else:\n+        print(\"\\n「你误会了，他才不是我男朋友。」\")\n+    favor_change = +1\n+    \n+    print(\"\\n【选项】\")\n+    print(\"1. 冷静分析证据\")\n+    print(\"2. 问戈多为什么突然回来\")\n+    print(\"3. 坚定维护委托人，直接反击\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+    \n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        print(\"\\n你抽出案件的文案，给戈多看并分析。\")\n+        if favorability > 65:\n+            reaction = f\"{character['name']}微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+            key_note = \"玩家主动分析证据，态度理性\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+            key_note = \"玩家被动分析证据，缺乏信任感\"\n+        else:\n+            reaction = f\"{character['name']}点头：「听听你的分析吧。」\"\n+            favor_change = +1\n+            key_note = \"玩家正常分析证据\"\n+    \n+    elif choice == \"2\":\n+        player_choice_text = \"质问戈多的执着\"\n+        if favorability > 65:\n+            reaction = f\"{character['name']}把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+            key_note = \"玩家询问戈多，戈多坦白动机\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}：「呵。」\"\n+            favor_change = -1\n+            key_note = \"玩家询问失败，戈多态度强硬\"\n+        else:\n+            reaction = f\"\"\"\"{character['name']}：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n+            它领你走入暮色中的玫瑰园，\n+            听潮水在远方低声吟诵逝去的誓言，\n+            直到你明白，世间万物都曾以苦为名，学会生长。」\n+            \"\"\"\n+            favor_change = 0\n+            key_note = \"玩家询问戈多，但未获取有效信息\"\n+    \n+    elif choice == \"3\":\n+        player_choice_text = \"坚定维护委托人\"\n+        reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊……」\"\n+        favor_change = 0\n+        key_note = \"玩家明确立场，戈多有点失落\"\n+        \n+    else:\n+        player_choice_text = \"沉默不语\"\n+        reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n+        favor_change = 0\n+        key_note = \"玩家保持沉默，戈多态度难测\"\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+    print(f\"（隐藏好感度：{favorability}）\\n\")\n+\n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, key_note)\n+        \n+        \n+\n+# 叙旧剧情（返回文本）\n+def past_story():\n+    parts = [\n+        \"——【五年前的回忆】\",\n+        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n+        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n+        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n+    ]\n+    if favorability > 50:\n+        parts.extend([\n+            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n+            \"「说实话……再次见到你，我其实有点开心。」\",\n+            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n+            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n+        ])\n+    else:\n+        parts.extend([\n+            \"戈多轻叹一口气，微微摇头。\",\n+            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n+        ])\n+    for line in parts:\n+        print(line)\n+    return \"\\n\".join(parts)\n+\n+# 最终打印日志\n+def print_dialogue():\n+    print(\"---------------------------------------------------------------\")\n+    print(\"\\n【对话记录】\")\n+    for log in dialogue:\n+        print(log)\n+    print(f\"（最终好感度：{favorability}）\\n\")\n+\n+def main():\n+    global progress\n+    \n+    introduce_character()\n+    while progress <= 3:\n+        player_choice()\n+    \n+    print_dialogue()\n+\n+if __name__ == \"__main__\":\n+    main()\n"
                },
                {
                    "date": 1741194456576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n         past_story_text = past_story()\n         favor_change = 0\n     elif choice == \"2\":\n         player_choice_text = \"点头微笑\"\n-        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n+        reaction = \"微微一笑，「看来你还记得我。」\"\n         print(\"\\n你点头微笑，表示礼貌。\")\n         print(f'{character[\"name\"]}: {reaction}')\n         favorability += 2\n         favor_change = +2\n@@ -122,11 +122,8 @@\n     #更新好感度和进度\n     favorability += favor_change\n     progress += 1\n     \n-    # 输出对话和反应\n-    print(f\"\\n{player_choice_text}\\n\")\n-    print(f\"\\n{reaction}\\n\")\n     \n     # 记录对话\n     record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n     print(f\"（隐藏好感度：{favorability})\\n\")\n@@ -319,334 +316,4 @@\n     print_dialogue()\n \n if __name__ == \"__main__\":\n     main()\n-import random\n-\n-# 角色信息\n-character = {\n-    \"name\": \"戈多\",\n-    \"age\": 27,\n-    \"occupation\": \"检察官\",\n-    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n-    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n-    \"mood\": \"温柔中带着试探\",\n-    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n-}\n-\n-# 全局好感度\n-favorability = 60\n-\n-# 存储剧情的对话日志列表\n-dialogue = []\n-\n-# 旁白小记（吐槽）\n-旁白小记 = [\n-    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n-    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n-    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n-    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n-    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n-]\n-\n-# 根据好感度动态生成称呼\n-def get_nickname():\n-    if favorability >= 60:\n-        return \"猫咪小姐\"\n-    elif favorability <= 40:\n-        return \"女士\"\n-    else:\n-        return \"被告小姐\"\n-\n-# 戈多登场介绍\n-def introduce_character():\n-    print(\"---------------------------------------------------------------\")\n-    print(f\"【{character['name']}】\")\n-    print(f\"年龄：{character['age']}岁\")\n-    print(f\"职业：{character['occupation']}\")\n-    print(f\"性格：{character['personality']}\")\n-    print(f\"背景故事：{character['background']}\")\n-    print(f\"当前表情：{character['mood']}\")\n-    print(\"---------------------------------------------------------------\\n\")\n-    print(f\"「{get_nickname()}，好久不见。」\")\n-    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n-\n-# 记录每次对话\n-def record_dialogue(player_choice, godot_reaction, favor_change, past_story_text):\n-    review = random.choice(旁白小记)\n-    log = (\n-        f\"玩家选择：{player_choice}\\n\"\n-        f\"戈多的反应：{godot_reaction}\\n\"\n-        f\"{review}\\n\"\n-        f\"好感度变化：{favor_change:+}\\n\"\n-    )\n-    if past_story_text:\n-        log += f\"\\n{past_story_text}\\n\"\n-    dialogue.append(log)\n-\n-#新增剧情轮次\n-progress = 1\n-\n-# 玩家选择分支\n-def player_choice():\n-    global progress\n-    if progress == 1:\n-        handle_progress_1()\n-    elif progress == 2:\n-        handle_progress_2()\n-    elif progress == 3:\n-        handle_progress_3()\n-\n-def handle_progress_1():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-    \n-    print(\"【选项】\")\n-    print(\"1. 表示疑惑询问他是谁\")\n-    print(\"2. 点头微笑\")\n-    print(\"3. 直接反驳\")\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        player_choice_text = \"表示疑惑询问他是谁\"\n-        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n-        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        past_story_text = past_story()\n-        favor_change = 0\n-        progress += 1\n-    elif choice == \"2\":\n-        player_choice_text = \"点头微笑\"\n-        reaction = \"戈多微微一笑，「看来你还记得我。」\"\n-        print(\"\\n你点头微笑，表示礼貌。\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 2\n-        favor_change = +2\n-        past_story_text = None\n-        progress += 1\n-    elif choice == \"3\":\n-        player_choice_text = \"直接反驳\"\n-        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n-        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 3\n-        favor_change = -3\n-        past_story_text = None\n-        progress += 1\n-    else:\n-        player_choice_text = \"什么都不说\"\n-        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n-        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n-        print(f\"{character['name']}：{reaction}\")\n-        favor_change = 0\n-        past_story_text = None\n-        progress += 1\n-    \n-    #更新好感度和进度\n-    favorability += favor_change\n-    progress += 1\n-    \n-    # 输出对话和反应\n-    print(f\"\\n{player_choice_text}\\n\")\n-    print(f\"\\n{reaction}\\n\")\n-    \n-    # 记录对话\n-    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n-    print(f\"（隐藏好感度：{favorability})\\n\")\n-    print(\"---------------------------------------------------------------\")\n-    \n-def handle_progress_2():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-        \n-    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n-    print(\"【选项】\")\n-    print(\"1. 他是无罪的\")\n-    print(\"2. 这与你无关\")\n-    print(\"3. 是啊，他真的是很麻烦\")\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-\n-    if choice == \"1\":\n-        player_choice_text = \"他是无罪的\"\n-        reaction = (\n-            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n-            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n-            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n-        )\n-        print(\"\\n「他是无罪的，我会证明给你看。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favor_change = 0\n-        progress += 1\n-    elif choice == \"2\":\n-        player_choice_text = \"这与你无关\"\n-        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n-        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n-        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n-        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 3\n-        favor_change = -3\n-        past_story_text = None\n-        progress += 1\n-    elif choice == \"3\":\n-        player_choice_text = \"是啊，他真的是很麻烦\"\n-        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n-        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n-        print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 5\n-        favor_change = +5\n-        past_story_text = None\n-        progress += 1\n-    else:\n-        player_choice_text = \"什么都不说\"\n-        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n-        print(f\"{character['name']}：{reaction}\")\n-        favor_change = 0\n-        past_story_text = None\n-        progress += 1\n-    \n-    #更新好感度和进度\n-    favorability += favor_change\n-    progress += 1\n-    \n-    # 输出对话和反应\n-    print(f\"\\n{player_choice_text}\\n\")\n-    print(f\"\\n{reaction}\\n\")\n-        \n-    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n-    print(f\"（隐藏好感度：{favorability})\\n\")\n-    print(\"---------------------------------------------------------------\")\n-\n-def handle_progress_3():\n-    global favorability, progress\n-    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n-    reaction = \"\"\n-    favor_change = 0\n-    past_story_text = None\n-    \n-    if favorability > 65:\n-        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n-    elif favorability < 55:\n-        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n-    else:\n-        print(\"\\n「你误会了，他才不是我男朋友。」\")\n-    favor_change = +1\n-    \n-    print(\"\\n【选项】\")\n-    print(\"1. 冷静分析证据\")\n-    print(\"2. 问戈多为什么突然回来\")\n-    print(\"3. 坚定维护委托人，直接反击\")\n-    \n-    choice = input(\"输入选项编号(1-3)：\")\n-    \n-    if choice == \"1\":\n-        player_choice_text = \"冷静分析证据\"\n-        print(\"\\n你抽出案件的文案，给戈多看并分析。\")\n-        if favorability > 65:\n-            reaction = f\"{character['name']}微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n-            favor_change = +2\n-            key_note = \"玩家主动分析证据，态度理性\"\n-        elif favorability < 55:\n-            reaction = f\"{character['name']}冷笑：「现在才装冷静，有点晚了吧？」\"\n-            favor_change = 0\n-            key_note = \"玩家被动分析证据，缺乏信任感\"\n-        else:\n-            reaction = f\"{character['name']}点头：「听听你的分析吧。」\"\n-            favor_change = +1\n-            key_note = \"玩家正常分析证据\"\n-    \n-    elif choice == \"2\":\n-        player_choice_text = \"质问戈多的执着\"\n-        if favorability > 65:\n-            reaction = f\"{character['name']}把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n-            favor_change = +1\n-            key_note = \"玩家询问戈多，戈多坦白动机\"\n-        elif favorability < 55:\n-            reaction = f\"{character['name']}：「呵。」\"\n-            favor_change = -1\n-            key_note = \"玩家询问失败，戈多态度强硬\"\n-        else:\n-            reaction = f\"\"\"\"{character['name']}：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n-            它领你走入暮色中的玫瑰园，\n-            听潮水在远方低声吟诵逝去的誓言，\n-            直到你明白，世间万物都曾以苦为名，学会生长。」\n-            \"\"\"\n-            favor_change = 0\n-            key_note = \"玩家询问戈多，但未获取有效信息\"\n-    \n-    elif choice == \"3\":\n-        player_choice_text = \"坚定维护委托人\"\n-        reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊……」\"\n-        favor_change = 0\n-        key_note = \"玩家明确立场，戈多有点失落\"\n-        \n-    else:\n-        player_choice_text = \"沉默不语\"\n-        reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n-        favor_change = 0\n-        key_note = \"玩家保持沉默，戈多态度难测\"\n-    \n-    #更新好感度和进度\n-    favorability += favor_change\n-    progress += 1\n-    \n-    # 输出对话和反应\n-    print(f\"\\n{player_choice_text}\\n\")\n-    print(f\"\\n{reaction}\\n\")\n-    print(f\"（隐藏好感度：{favorability}）\\n\")\n-\n-    # 记录对话\n-    record_dialogue(player_choice_text, reaction, favor_change, key_note)\n-        \n-        \n-\n-# 叙旧剧情（返回文本）\n-def past_story():\n-    parts = [\n-        \"——【五年前的回忆】\",\n-        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n-        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n-        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n-    ]\n-    if favorability > 50:\n-        parts.extend([\n-            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n-            \"「说实话……再次见到你，我其实有点开心。」\",\n-            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n-            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n-        ])\n-    else:\n-        parts.extend([\n-            \"戈多轻叹一口气，微微摇头。\",\n-            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n-        ])\n-    for line in parts:\n-        print(line)\n-    return \"\\n\".join(parts)\n-\n-# 最终打印日志\n-def print_dialogue():\n-    print(\"---------------------------------------------------------------\")\n-    print(\"\\n【对话记录】\")\n-    for log in dialogue:\n-        print(log)\n-    print(f\"（最终好感度：{favorability}）\\n\")\n-\n-def main():\n-    global progress\n-    \n-    introduce_character()\n-    while progress <= 2:\n-        player_choice()\n-    \n-    print_dialogue()\n-\n-if __name__ == \"__main__\":\n-    main()\n"
                },
                {
                    "date": 1741194549229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,12 +182,8 @@\n     #更新好感度和进度\n     favorability += favor_change\n     progress += 1\n     \n-    # 输出对话和反应\n-    print(f\"\\n{player_choice_text}\\n\")\n-    print(f\"\\n{reaction}\\n\")\n-        \n     record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n     print(f\"（隐藏好感度：{favorability})\\n\")\n     print(\"---------------------------------------------------------------\")\n \n"
                },
                {
                    "date": 1741194612049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,17 +160,15 @@\n         虽然你看不到他脸上的表情，但你能感受到他在看着你。\n         「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n         print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n         print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 3\n         favor_change = -3\n         past_story_text = None\n     elif choice == \"3\":\n         player_choice_text = \"是啊，他真的是很麻烦\"\n         reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n         print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n         print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 5\n         favor_change = +5\n         past_story_text = None\n     else:\n         player_choice_text = \"什么都不说\"\n"
                },
                {
                    "date": 1741194620295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,17 +99,15 @@\n         player_choice_text = \"点头微笑\"\n         reaction = \"微微一笑，「看来你还记得我。」\"\n         print(\"\\n你点头微笑，表示礼貌。\")\n         print(f'{character[\"name\"]}: {reaction}')\n-        favorability += 2\n         favor_change = +2\n         past_story_text = None\n     elif choice == \"3\":\n         player_choice_text = \"直接反驳\"\n         reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n         print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n         print(f'{character[\"name\"]}: {reaction}')\n-        favorability -= 3\n         favor_change = -3\n         past_story_text = None\n     else:\n         player_choice_text = \"什么都不说\"\n"
                },
                {
                    "date": 1741194689249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,311 @@\n+import random\n+\n+# 角色信息\n+character = {\n+    \"name\": \"戈多\",\n+    \"age\": 27,\n+    \"occupation\": \"检察官\",\n+    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n+    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n+    \"mood\": \"温柔中带着试探\",\n+    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n+}\n+\n+# 全局好感度\n+favorability = 60\n+\n+# 存储剧情的对话日志列表\n+dialogue = []\n+\n+# 旁白小记（吐槽）\n+旁白小记 = [\n+    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n+    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n+    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n+    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n+    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n+]\n+\n+# 根据好感度动态生成称呼\n+def get_nickname():\n+    if favorability >= 60:\n+        return \"猫咪小姐\"\n+    elif favorability <= 40:\n+        return \"女士\"\n+    else:\n+        return \"被告小姐\"\n+\n+# 戈多登场介绍\n+def introduce_character():\n+    print(\"---------------------------------------------------------------\")\n+    print(f\"【{character['name']}】\")\n+    print(f\"年龄：{character['age']}岁\")\n+    print(f\"职业：{character['occupation']}\")\n+    print(f\"性格：{character['personality']}\")\n+    print(f\"背景故事：{character['background']}\")\n+    print(f\"当前表情：{character['mood']}\")\n+    print(\"---------------------------------------------------------------\\n\")\n+    print(f\"「{get_nickname()}，好久不见。」\")\n+    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n+\n+# 记录每次对话\n+def record_dialogue(player_choice, godot_reaction, favor_change, key_note=None, past_story_text=None):\n+    review = random.choice(旁白小记)\n+    log = (\n+        f\"玩家选择：{player_choice}\\n\"\n+        f\"戈多的反应：{godot_reaction}\\n\"\n+        f\"{review}\\n\"\n+        f\"好感度变化：{favor_change:+}\\n\"\n+    )\n+    if past_story_text:\n+        log += f\"\\n{past_story_text}\\n\"\n+    dialogue.append(log)\n+\n+#新增剧情轮次\n+progress = 1\n+\n+# 玩家选择分支\n+def player_choice():\n+    global progress\n+    if progress == 1:\n+        handle_progress_1()\n+    elif progress == 2:\n+        handle_progress_2()\n+    elif progress == 3:\n+        handle_progress_3()\n+\n+def handle_progress_1():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    print(\"【选项】\")\n+    print(\"1. 表示疑惑询问他是谁\")\n+    print(\"2. 点头微笑\")\n+    print(\"3. 直接反驳\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"表示疑惑询问他是谁\"\n+        reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n+        print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        past_story_text = past_story()\n+        favor_change = 0\n+    elif choice == \"2\":\n+        player_choice_text = \"点头微笑\"\n+        reaction = \"微微一笑，「看来你还记得我。」\"\n+        print(\"\\n你点头微笑，表示礼貌。\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = +2\n+        past_story_text = None\n+    elif choice == \"3\":\n+        player_choice_text = \"直接反驳\"\n+        reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n+        print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = -3\n+        past_story_text = None\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n+        print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    \n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+    \n+def handle_progress_2():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+        \n+    print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n+    print(\"【选项】\")\n+    print(\"1. 他是无罪的\")\n+    print(\"2. 这与你无关\")\n+    print(\"3. 是啊，他真的是很麻烦\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+\n+    if choice == \"1\":\n+        player_choice_text = \"他是无罪的\"\n+        reaction = (\n+            f\"轻笑，「真是难得，{get_nickname()}，这么多年不见，你还是这么天真。\"\n+            \"你这么相信他，是因为律师的虚张声势，还是只是因为...」\"\n+            \"他身子前俯，话语却还带一丝玩味，「他是你的男朋友呢？」\"\n+        )\n+        print(\"\\n「他是无罪的，我会证明给你看。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = 0\n+    elif choice == \"2\":\n+        player_choice_text = \"这与你无关\"\n+        reaction = \"\"\"脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\n+        虽然你看不到他脸上的表情，但你能感受到他在看着你。\n+        「怎么会与我无关呢……那就一会儿让我见识一下这个与你有关的男朋友吧。」\"\"\"\n+        print(\"\\n「这件事和你无关，检察官先生，我只想保护他。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = -3\n+        past_story_text = None\n+    elif choice == \"3\":\n+        player_choice_text = \"是啊，他真的是很麻烦\"\n+        reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n+        print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n+        print(f'{character[\"name\"]}: {reaction}')\n+        favor_change = +5\n+        past_story_text = None\n+    else:\n+        player_choice_text = \"什么都不说\"\n+        reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗？」\"\n+        print(f\"{character['name']}：{reaction}\")\n+        favor_change = 0\n+        past_story_text = None\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n+    print(f\"（隐藏好感度：{favorability})\\n\")\n+    print(\"---------------------------------------------------------------\")\n+\n+def handle_progress_3():\n+    global favorability, progress\n+    player_choice_text = \"未知选项\"  # 默认初始化，防止漏掉\n+    reaction = \"\"\n+    favor_change = 0\n+    past_story_text = None\n+    \n+    if favorability > 65:\n+        print(\"「什么男朋友！我可没喜欢过这家伙！」\")\n+    elif favorability < 55:\n+        print(\"\\n「男朋友？你满脑子只有情爱吗？我是他的律师，仅此而已。」\")\n+    else:\n+        print(\"\\n「你误会了，他才不是我男朋友。」\")\n+    favor_change = +1\n+    \n+    print(\"\\n【选项】\")\n+    print(\"1. 冷静分析证据\")\n+    print(\"2. 问戈多为什么突然回来\")\n+    print(\"3. 坚定维护委托人，直接反击\")\n+    \n+    choice = input(\"输入选项编号(1-3)：\")\n+    \n+    if choice == \"1\":\n+        player_choice_text = \"冷静分析证据\"\n+        print(\"\\n你抽出案件的文案，给戈多看并分析。\")\n+        if favorability > 65:\n+            reaction = f\"{character['name']}微微一笑：「果然，你还是那个我认识的猫咪小姐。」\"\n+            favor_change = +2\n+            key_note = \"玩家主动分析证据，态度理性\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}冷笑：「现在才装冷静，有点晚了吧？」\"\n+            favor_change = 0\n+            key_note = \"玩家被动分析证据，缺乏信任感\"\n+        else:\n+            reaction = f\"{character['name']}点头：「听听你的分析吧。」\"\n+            favor_change = +1\n+            key_note = \"玩家正常分析证据\"\n+    \n+    elif choice == \"2\":\n+        player_choice_text = \"质问戈多的执着\"\n+        if favorability > 65:\n+            reaction = f\"{character['name']}把咖啡一饮而尽：「有些真相，我只想从你口中听到。」\"\n+            favor_change = +1\n+            key_note = \"玩家询问戈多，戈多坦白动机\"\n+        elif favorability < 55:\n+            reaction = f\"{character['name']}：「呵。」\"\n+            favor_change = -1\n+            key_note = \"玩家询问失败，戈多态度强硬\"\n+        else:\n+            reaction = f\"\"\"\"{character['name']}：「...咖啡之苦，非是对味蕾的惩罚，而是对心灵的邀请。\n+            它领你走入暮色中的玫瑰园，\n+            听潮水在远方低声吟诵逝去的誓言，\n+            直到你明白，世间万物都曾以苦为名，学会生长。」\n+            \"\"\"\n+            favor_change = 0\n+            key_note = \"玩家询问戈多，但未获取有效信息\"\n+    \n+    elif choice == \"3\":\n+        player_choice_text = \"坚定维护委托人\"\n+        reaction = f\"{character['name']}微微摇头：「所以，你终究还是站在他那边啊...」\"\n+        favor_change = 0\n+        key_note = \"玩家明确立场，戈多有点失落\"\n+        \n+    else:\n+        player_choice_text = \"沉默不语\"\n+        reaction = f\"{character['name']}：「沉默不代表无罪，{get_nickname()}。」\"\n+        favor_change = 0\n+        key_note = \"玩家保持沉默，戈多态度难测\"\n+    \n+    #更新好感度和进度\n+    favorability += favor_change\n+    progress += 1\n+    \n+    # 输出对话和反应\n+    print(f\"\\n{player_choice_text}\\n\")\n+    print(f\"\\n{reaction}\\n\")\n+    print(f\"（隐藏好感度：{favorability}）\\n\")\n+\n+    # 记录对话\n+    record_dialogue(player_choice_text, reaction, favor_change, key_note)\n+        \n+        \n+\n+# 叙旧剧情（返回文本）\n+def past_story():\n+    parts = [\n+        \"——【五年前的回忆】\",\n+        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n+        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n+        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n+    ]\n+    if favorability > 50:\n+        parts.extend([\n+            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n+            \"「说实话……再次见到你，我其实有点开心。」\",\n+            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n+            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n+        ])\n+    else:\n+        parts.extend([\n+            \"戈多轻叹一口气，微微摇头。\",\n+            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n+        ])\n+    for line in parts:\n+        print(line)\n+    return \"\\n\".join(parts)\n+\n+# 最终打印日志\n+def print_dialogue():\n+    print(\"---------------------------------------------------------------\")\n+    print(\"\\n【对话记录】\")\n+    for log in dialogue:\n+        print(log)\n+    print(f\"（最终好感度：{favorability}）\\n\")\n+\n+def main():\n+    global progress\n+    \n+    introduce_character()\n+    while progress <= 3:\n+        player_choice()\n+    \n+    print_dialogue()\n+\n+if __name__ == \"__main__\":\n+    main()\n"
                }
            ],
            "date": 1741186936499,
            "name": "Commit-0",
            "content": "import random\n\n# 角色信息\ncharacter = {\n    \"name\": \"戈多\",\n    \"age\": 27,\n    \"occupation\": \"检察官\",\n    \"personality\": \"温文尔雅，礼貌周到，但每句话都带着隐含的试探和压迫感\",\n    \"background\": \"神秘的检察官，五年前与你有一面之缘\",\n    \"mood\": \"温柔中带着试探\",\n    \"signature_move\": \"用温柔的语气说出最让人窒息的话\"\n}\n\n# 全局好感度\nfavorability = 60\n\n# 存储剧情的对话日志列表\ndialogue = []\n\n# 旁白小记（吐槽）\n旁白小记 = [\n    \"——旁白小记：对方的微笑比黑咖啡还苦，看来今天这杯对话不会太甜。\",\n    \"——旁白小记：标准“熟人套近乎”，但熟到让人背后发凉那种。\",\n    \"——旁白小记：笑容越温柔，越像刀子上抹蜜……老套路了。\",\n    \"——旁白小记：刚见面就甩这种台词，果然是个自带BGM的男人。\",\n    \"——旁白小记：脸上的笑容写着‘我什么都知道’，但他到底知道多少？\"\n]\n\n# 根据好感度动态生成称呼\ndef get_nickname():\n    if favorability >= 60:\n        return \"猫咪小姐\"\n    elif favorability <= 40:\n        return \"女士\"\n    else:\n        return \"被告小姐\"\n\n# 戈多登场介绍\ndef introduce_character():\n    print(\"---------------------------------------------------------------\")\n    print(f\"【{character['name']}】\")\n    print(f\"年龄：{character['age']}岁\")\n    print(f\"职业：{character['occupation']}\")\n    print(f\"性格：{character['personality']}\")\n    print(f\"背景故事：{character['background']}\")\n    print(f\"当前表情：{character['mood']}\")\n    print(\"---------------------------------------------------------------\\n\")\n    print(f\"「{get_nickname()}，好久不见。」\")\n    print(f\"{character['name']}检察官微微一笑，目光却如同探针般刺入你的内心。\\n\")\n\n# 记录每次对话\ndef record_dialogue(player_choice, godot_reaction, favor_change, past_story_text=None):\n    review = random.choice(旁白小记)\n    log = (\n        f\"玩家选择：{player_choice}\\n\"\n        f\"戈多的反应：{godot_reaction}\\n\"\n        f\"{review}\\n\"\n        f\"好感度变化：{favor_change:+}\\n\"\n    )\n    if past_story_text:\n        log += f\"\\n{past_story_text}\\n\"\n    dialogue.append(log)\n\n#新增剧情轮次\nprogress = 1\n\n# 玩家选择分支\ndef player_choice():\n    global favorability, progress\n    \n    if progress == 1:\n        print(\"【选项】\")\n        print(\"1. 表示疑惑询问他是谁\")\n        print(\"2. 点头微笑\")\n        print(\"3. 直接反驳\")\n        \n        choice = input(\"输入选项编号(1-3)：\")\n\n        if choice == \"1\":\n            player_choice_text = \"表示疑惑询问他是谁\"\n            reaction = \"举起咖啡轻酌，「才五年过去，你已经把我给忘了吗？我是戈多，现任检察官。」\"\n            print(\"\\n你的脸上露出疑惑的神情：「这位先生，请问你是？」\")\n            print(f'{character[\"name\"]}: {reaction}')\n            past_story_text = past_story()\n            favor_change = 0\n            progress += 1\n        elif choice == \"2\":\n            player_choice_text = \"点头微笑\"\n            reaction = \"戈多微微一笑，「看来你还记得我。」\"\n            print(\"\\n你点头微笑，表示礼貌。\")\n            print(f'{character[\"name\"]}: {reaction}')\n            favorability += 2\n            favor_change = +2\n            past_story_text = None\n            progress += 1\n        elif choice == \"3\":\n            player_choice_text = \"直接反驳\"\n            reaction = \"「哦？律师小姐，看来你贵人多忘事嘛……很好。」\"\n            print(\"\\n你毫不犹豫地反驳：「这位先生，我不认识你。」\")\n            print(f'{character[\"name\"]}: {reaction}')\n            favorability -= 2\n            favor_change = -2\n            past_story_text = None\n            progress += 1\n        else:\n            player_choice_text = \"什么都不说\"\n            reaction = \"「什么都不说？真是有趣呢，猫咪小姐。」\"\n            print(\"\\n戈多挑眉，似乎对你无言以对的操作感到意外。\\n\")\n            print(f\"{character['name']}：{reaction}\")\n            favor_change = 0\n            past_story_text = None\n            progress += 1\n\n    elif progress == 2:\n        print(f\"\\n{character['name']}：「无论如何，{get_nickname()}，现在你还是头疼一下你的被告人吧，我可真羡慕他，闯出这么大的祸还要你为他收拾。」\")\n        print(\"【选项】\")\n        print(\"1. 他是无罪的\")\n        print(\"2. 这与你无关\")\n        print(\"3. 是啊，他真的是很麻烦\")\n        \n        choice = input(\"输入选项编号(1-3)：\")\n\n        if choice == \"1\":\n            player_choice_text = \"他是无罪的\"\n            reaction = f\"{轻笑：「真是难得，{get_nickname()}，这个案子几乎已经是板上钉钉了，接下这么棘手的案子，是因为你有什么新的发现，还是说...」他身子前俯，话语却还带一丝玩味，「你对你的新男朋友无条件相信呢？」\"}\"\n            print(\"\\n「他是无罪的，我会证明给你看。」\")\n            print(f'{character[\"name\"]}: {reaction}')\n            favor_change = 0\n            progress += 1\n            \n        elif choice == \"2\":\n            player_choice_text = \"这与你无关\"\n            reaction = f\"{脸上的笑容消失了，「律师小姐，我从地狱爬出来，就是为了今天，可以站在这里。」\\n虽然你看不到他脸上的表情，但你能感受到他在看着你。\\n 「怎么会与我无关呢...那就一会儿让我见识一下这个与你有关的男朋友吧。」\"}\"\n            print(\"\\n这件事和你无关，检察官先生，我只想保护他。\")\n            print(f'{character[\"name\"]}: {reaction}')\n            favorability -= 3\n            favor_change = -2\n            past_story_text = None\n            progress += 1\n        elif choice == \"3\":\n            player_choice_text = \"是啊，他真的是很麻烦\"\n            reaction = \"喝咖啡的手一顿，沉默了片刻，「啧，我什么时候让你彻夜失眠了？你这样说的，让我以为你对你的新男朋友已经毫无感情了呢。」\"\n            print(\"\\n你扶额：「是啊，他真的是很麻烦，如果不是因为我相信他的人品，我才不接手这个案件呢。不过至少比起你，他还没让我彻夜失眠。」\")\n            print(f'{character[\"name\"]}: {reaction}')\n            favorability += 5\n            favor_change = +5\n            past_story_text = None\n            progress += 1\n        else:\n            player_choice_text = \"什么都不说\"\n            reaction = \"「怎么了，是还在烦恼你新男朋友的案件吗」\"\n            print(f\"{character['name']}：{reaction}\")\n            favor_change = 0\n            past_story_text = None\n            progress += 1\n        \n        # 记录对话\n        record_dialogue(player_choice_text, reaction, favor_change, past_story_text)\n        print(f\"（隐藏好感度：{favorability})\\n\")\n        \n\n# 叙旧剧情（返回文本）\ndef past_story():\n    parts = [\n        \"——【五年前的回忆】\",\n        \"戈多低头看着杯中苦涩漆黑的液体，仿佛陷入某种回忆。\",\n        \"「那是五年前……你还记得那场离奇的案件吗？」\",\n        \"「无名尸体、消失的证据、以及……你最后留下的那句‘异议’，我可一直记得。」\"\n    ]\n    if favorability > 50:\n        parts.extend([\n            \"他抬起眼，微微一笑，眼底似乎透出一丝怀念。\",\n            \"「说实话……再次见到你，我其实有点开心。」\"\n            \"但是你观察到，他的微笑中透着薄薄的寒意。\",\n            \"「只可惜，当年的你，现在已经站在我的对立面了吧？」\\n\"\n        ])\n    else:\n        parts.extend([\n            \"戈多轻叹一口气，微微摇头。\",\n            \"「果然，你已经把过去的一切都抛诸脑后了吗……」\"\n        ])\n    for line in parts:\n        print(line)\n    return \"\\n\".join(parts)\n\n# 最终打印日志\ndef print_dialogue():\n    print(\"---------------------------------------------------------------\")\n    print(\"\\n【对话记录】\")\n    for log in dialogue:\n        print(log)\n    print(f\"（最终好感度：{favorability}）\\n\")\n\ndef main():\n    introduce_character()\n    player_choice()\n    print_dialogue()\n\nif __name__ == \"__main__\":\n    main()\n"
        }
    ]
}